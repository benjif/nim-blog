/* Generated by Nim Compiler v0.18.1 */
/*   (c) 2018 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: Linux, amd64, gcc */
/* Command for C compiler:
   gcc -c  -w  -I/home/benji/.nim/lib -o /home/benji/dev/nim/website/src/nimcache/httpbeast_httpbeast.c.o /home/benji/dev/nim/website/src/nimcache/httpbeast_httpbeast.c */
#define NIM_NEW_MANGLING_RULES
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#include <sys/socket.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ;
typedef struct tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw;
typedef struct tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg;
typedef struct tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg;
typedef struct tyObject_Settings_RQZYCzXTdrrG2IJkwsu2GQ tyObject_Settings_RQZYCzXTdrrG2IJkwsu2GQ;
typedef struct tyTuple_nwB3gtWBe1uuSjJHYIhMRg tyTuple_nwB3gtWBe1uuSjJHYIhMRg;
typedef struct tyObject_SocketImpl_aIhANOOoETolVz9cccNO9cRQ tyObject_SocketImpl_aIhANOOoETolVz9cccNO9cRQ;
typedef struct tyObject_PDispatchercolonObjectType__pnVRciItPqJkU9bkmY2UaWQ tyObject_PDispatchercolonObjectType__pnVRciItPqJkU9bkmY2UaWQ;
typedef struct tyObject_SelectorImpl_jkoZicTBtYdKkYck5SFJEQ tyObject_SelectorImpl_jkoZicTBtYdKkYck5SFJEQ;
typedef struct tyObject_DateTime_S7qec11z7km5Pal3UXrHmw tyObject_DateTime_S7qec11z7km5Pal3UXrHmw;
typedef struct RootObj RootObj;
typedef struct tyObject_Timezone_g1TRr0fUzr8gtJpVPUSSnA tyObject_Timezone_g1TRr0fUzr8gtJpVPUSSnA;
typedef struct tyObject_ZonedTime_WigfH9apQAxJ69bBPh3wB8RQ tyObject_ZonedTime_WigfH9apQAxJ69bBPh3wB8RQ;
typedef struct tyObject_Time_3y2ZpqsTJLqdZvpC9a0rU2Q tyObject_Time_3y2ZpqsTJLqdZvpC9a0rU2Q;
typedef struct tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g;
typedef struct tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w;
typedef struct tyObject_GcHeap_1TRH1TZMaVZTnLNcIHuNFQ tyObject_GcHeap_1TRH1TZMaVZTnLNcIHuNFQ;
typedef struct tyObject_GcStack_7fytPA5bBsob6See21YMRA tyObject_GcStack_7fytPA5bBsob6See21YMRA;
typedef struct tyObject_MemRegion_x81NhDv59b8ercDZ9bi85jyg tyObject_MemRegion_x81NhDv59b8ercDZ9bi85jyg;
typedef struct tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ;
typedef struct tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg;
typedef struct tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw;
typedef struct tyObject_IntSet_EZObFrE3NC9bIb3YMkY9crZA tyObject_IntSet_EZObFrE3NC9bIb3YMkY9crZA;
typedef struct tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw;
typedef struct tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw;
typedef struct tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg;
typedef struct tyTuple_ujsjpB2O9cjj3uDHsXbnSzg tyTuple_ujsjpB2O9cjj3uDHsXbnSzg;
typedef struct tyObject_GcStat_0RwLoVBHZPfUAcLczmfQAg tyObject_GcStat_0RwLoVBHZPfUAcLczmfQAg;
typedef struct tyObject_CellSet_jG87P0AI9aZtss9ccTYBIISQ tyObject_CellSet_jG87P0AI9aZtss9ccTYBIISQ;
typedef struct tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg;
typedef struct tyObject_ReadyKey_vOvPQEijZeFv1xAgbh5rNw tyObject_ReadyKey_vOvPQEijZeFv1xAgbh5rNw;
typedef struct tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ;
typedef struct tyTuple_TpwiSlpJ9ammzps6Ja8XpjQ tyTuple_TpwiSlpJ9ammzps6Ja8XpjQ;
typedef struct tyObject_Option_veolIg1VCBBP47eu1cVRKw tyObject_Option_veolIg1VCBBP47eu1cVRKw;
typedef struct tySequence_GRbl5aEApToVieBn9bMUweg tySequence_GRbl5aEApToVieBn9bMUweg;
typedef struct tyObject_SelectorKey_psahSFDbXohbHJrYyBA30A tyObject_SelectorKey_psahSFDbXohbHJrYyBA30A;
typedef struct tyObject_FutureBasecolonObjectType__cnXnCCtV9cjKaEq9alHheOFg tyObject_FutureBasecolonObjectType__cnXnCCtV9cjKaEq9alHheOFg;
typedef struct tyObject_CallbackList_tKSBWiaJMWD3JZxwqg7UFQ tyObject_CallbackList_tKSBWiaJMWD3JZxwqg7UFQ;
typedef struct Exception Exception;
typedef struct tySequence_uB9b75OUPRENsBAu4AnoePA tySequence_uB9b75OUPRENsBAu4AnoePA;
typedef struct tyObject_Deque_oL07LSXp3QMM0uEpFQiyQg tyObject_Deque_oL07LSXp3QMM0uEpFQiyQg;
typedef struct tySequence_WF89a8QyKeDCh4DYWTmSiBg tySequence_WF89a8QyKeDCh4DYWTmSiBg;
typedef struct tyObject_PDispatcherBasecolonObjectType__E9c1MI1V1IJorH9cqPQ36Hqg tyObject_PDispatcherBasecolonObjectType__E9c1MI1V1IJorH9cqPQ36Hqg;
typedef struct tySequence_M89cHurEB0l2lhCwhToV4tw tySequence_M89cHurEB0l2lhCwhToV4tw;
typedef struct tyObject_Option_b3qcYYMISNgGVYTnldWqsA tyObject_Option_b3qcYYMISNgGVYTnldWqsA;
typedef struct tyObject_StackTraceEntry_oLyohQ7O2XOvGnflOss8EA tyObject_StackTraceEntry_oLyohQ7O2XOvGnflOss8EA;
typedef struct tyTuple_V1aU9c9b1eMroa29cC237x0yQ tyTuple_V1aU9c9b1eMroa29cC237x0yQ;
typedef struct tyObject_HttpHeaderscolonObjectType__GM611pWlOrQ7hvMPcuAACA tyObject_HttpHeaderscolonObjectType__GM611pWlOrQ7hvMPcuAACA;
struct TGenericSeq {
NI len;
NI reserved;
};
struct NimStringDesc {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
typedef NU8 tyEnum_TNimKind_jIBKr1ejBgsfM33Kxw4j7A;
typedef NU8 tySet_tyEnum_TNimTypeFlag_v8QUszD1sWlSIWZz7mC4bQ;
typedef N_NIMCALL_PTR(void, tyProc_ojoeKfW4VYIm36I9cpDTQIg) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, tyProc_WSm2xU5ARYv9aAR4l0z9c9auQ) (void* p);
struct TNimType {
NI size;
tyEnum_TNimKind_jIBKr1ejBgsfM33Kxw4j7A kind;
tySet_tyEnum_TNimTypeFlag_v8QUszD1sWlSIWZz7mC4bQ flags;
TNimType* base;
TNimNode* node;
void* finalizer;
tyProc_ojoeKfW4VYIm36I9cpDTQIg marker;
tyProc_WSm2xU5ARYv9aAR4l0z9c9auQ deepcopy;
};
typedef NU8 tyEnum_TNimNodeKind_unfNsxrcATrufDZmpBq4HQ;
struct TNimNode {
tyEnum_TNimNodeKind_unfNsxrcATrufDZmpBq4HQ kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef N_NIMCALL_PTR(void, tyProc_T4eqaYlFJYZUv9aG9b1TV0bQ) (void);
struct tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ {
tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* selector;
int client;
NI start;
};
typedef NU8 tyEnum_FdKind_gufxVgpU5dIEG6DkTOq9aiA;
struct tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg {
tyEnum_FdKind_gufxVgpU5dIEG6DkTOq9aiA fdKind;
NimStringDesc* sendQueue;
NI bytesSent;
NimStringDesc* data;
NIM_BOOL headersFinished;
NI headersFinishPos;
NimStringDesc* ip;
};
typedef struct {
N_NIMCALL_PTR(tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg*, ClP_0) (tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ req, void* ClE_0);
void* ClE_0;
} tyProc_viIz7Ad8oAqyirPykUIEyw;
struct tyObject_Settings_RQZYCzXTdrrG2IJkwsu2GQ {
NU16 port;
NimStringDesc* bindAddr;
};
typedef NimStringDesc* tyArray_24KAM9afIUgUaqBaEBB6r9bg[3];
typedef NU8 tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg;
typedef NU8 tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw;
typedef NU8 tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg;
typedef NU8 tyEnum_SOBool_SDlZUtKctfhvUZ58547HWQ;
typedef NU32 tySet_tyEnum_Event_nI40bZzTyYVrl763dZ9aHDg;
struct RootObj {
TNimType* m_type;
};
typedef NU8 tyEnum_Month_JS0JuFvCBbC2GL3xXBnPQw;
typedef NU8 tyEnum_WeekDay_SVfemTA9aCOyua2TJYa6yBg;
struct tyObject_Time_3y2ZpqsTJLqdZvpC9a0rU2Q {
NI64 seconds;
NI nanosecond;
};
struct tyObject_ZonedTime_WigfH9apQAxJ69bBPh3wB8RQ {
tyObject_Time_3y2ZpqsTJLqdZvpC9a0rU2Q adjTime;
NI utcOffset;
NIM_BOOL isDst;
};
typedef struct {
N_NIMCALL_PTR(tyObject_ZonedTime_WigfH9apQAxJ69bBPh3wB8RQ, ClP_0) (tyObject_Time_3y2ZpqsTJLqdZvpC9a0rU2Q time, void* ClE_0);
void* ClE_0;
} tyProc_bs1dgeTxHIjPGTR9axkkHbg;
struct tyObject_Timezone_g1TRr0fUzr8gtJpVPUSSnA {
tyProc_bs1dgeTxHIjPGTR9axkkHbg zoneInfoFromUtc;
tyProc_bs1dgeTxHIjPGTR9axkkHbg zoneInfoFromTz;
NimStringDesc* name;
};
struct tyObject_DateTime_S7qec11z7km5Pal3UXrHmw {
  RootObj Sup;
NI nanosecond;
NI second;
NI minute;
NI hour;
NI monthday;
tyEnum_Month_JS0JuFvCBbC2GL3xXBnPQw month;
NI year;
tyEnum_WeekDay_SVfemTA9aCOyua2TJYa6yBg weekday;
NI yearday;
NIM_BOOL isDst;
tyObject_Timezone_g1TRr0fUzr8gtJpVPUSSnA timezone;
NI utcOffset;
};
struct tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g {
NI refcount;
TNimType* typ;
};
struct tyObject_GcStack_7fytPA5bBsob6See21YMRA {
void* bottom;
};
struct tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w {
NI len;
NI cap;
tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g** d;
};
typedef tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ* tyArray_SiRwrEKZdLgxqz9a9aoVBglg[512];
typedef NU32 tyArray_BHbOSqU1t9b3Gt7K2c6fQig[24];
typedef tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg* tyArray_N1u1nqOgmuJN9cSZrnMHgOQ[32];
typedef tyArray_N1u1nqOgmuJN9cSZrnMHgOQ tyArray_B6durA4ZCi1xjJvRtyYxMg[24];
typedef tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw* tyArray_lh2A89ahMmYg9bCmpVaplLbA[256];
struct tyObject_IntSet_EZObFrE3NC9bIb3YMkY9crZA {
tyArray_lh2A89ahMmYg9bCmpVaplLbA data;
};
typedef tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* tyArray_0aOLqZchNi8nWtMTi8ND8w[2];
struct tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw {
tyArray_0aOLqZchNi8nWtMTi8ND8w link;
NI key;
NI upperBound;
NI level;
};
struct tyTuple_ujsjpB2O9cjj3uDHsXbnSzg {
tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg* Field0;
NI Field1;
};
typedef tyTuple_ujsjpB2O9cjj3uDHsXbnSzg tyArray_LzOv2eCDGiceMKQstCLmhw[30];
struct tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg {
NI len;
tyArray_LzOv2eCDGiceMKQstCLmhw chunks;
tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg* next;
};
struct tyObject_MemRegion_x81NhDv59b8ercDZ9bi85jyg {
NI minLargeObj;
NI maxLargeObj;
tyArray_SiRwrEKZdLgxqz9a9aoVBglg freeSmallChunks;
NU32 flBitmap;
tyArray_BHbOSqU1t9b3Gt7K2c6fQig slBitmap;
tyArray_B6durA4ZCi1xjJvRtyYxMg matrix;
tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw* llmem;
NI currMem;
NI maxMem;
NI freeMem;
NI occ;
NI lastSize;
tyObject_IntSet_EZObFrE3NC9bIb3YMkY9crZA chunkStarts;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* root;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* deleted;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* last;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* freeAvlNodes;
NIM_BOOL locked;
NIM_BOOL blockChunkSizeIncrease;
NI nextChunkSize;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw bottomData;
tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg heapLinks;
};
struct tyObject_GcStat_0RwLoVBHZPfUAcLczmfQAg {
NI stackScans;
NI cycleCollections;
NI maxThreshold;
NI maxStackSize;
NI maxStackCells;
NI cycleTableSize;
NI64 maxPause;
};
struct tyObject_CellSet_jG87P0AI9aZtss9ccTYBIISQ {
NI counter;
NI max;
tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg* head;
tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg** data;
};
struct tyObject_GcHeap_1TRH1TZMaVZTnLNcIHuNFQ {
tyObject_GcStack_7fytPA5bBsob6See21YMRA stack;
NI cycleThreshold;
tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w zct;
tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w decStack;
tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w tempStack;
NI recGcLock;
tyObject_MemRegion_x81NhDv59b8ercDZ9bi85jyg region;
tyObject_GcStat_0RwLoVBHZPfUAcLczmfQAg stat;
tyObject_CellSet_jG87P0AI9aZtss9ccTYBIISQ marked;
tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w additionalRoots;
NI gcThreadId;
};
typedef struct {
N_NIMCALL_PTR(NIM_BOOL, ClP_0) (int fd, void* ClE_0);
void* ClE_0;
} tyProc_9cnjNsE9aOh8FkRG9ccBKTpWg;
typedef N_CLOSURE_PTR(NIM_BOOL, TM_C2iUZIQp7RQF6YOy5ASqQQ_12) (int fd, void* ClE_0);
struct tyObject_ReadyKey_vOvPQEijZeFv1xAgbh5rNw {
NI fd;
tySet_tyEnum_Event_nI40bZzTyYVrl763dZ9aHDg events;
NI32 errorCode;
};
typedef tyObject_ReadyKey_vOvPQEijZeFv1xAgbh5rNw tyArray_ldWGqPJo6WgJz7q23H0LJQ[64];
struct tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ {
  RootObj Sup;
NI colonstate_;
tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* selector1;
NI fd2;
tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* data3;
};
typedef NU8 tyEnum_Event_nI40bZzTyYVrl763dZ9aHDg;
typedef NU8 tySet_tyEnum_SocketFlag_4xio0cAXR7XG4pF9bVcpxEg;
struct tyTuple_TpwiSlpJ9ammzps6Ja8XpjQ {
int Field0;
NimStringDesc* Field1;
};
typedef NIM_CHAR tyArray_dTlC27m9c9aWd5dvuePYanug[256];
typedef NU8 tyEnum_HttpMethod_wfZHspwVKQPl9aWhkIcMrAA;
struct tyObject_Option_veolIg1VCBBP47eu1cVRKw {
tyEnum_HttpMethod_wfZHspwVKQPl9aWhkIcMrAA val;
NIM_BOOL has;
};
typedef NU8 tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg;
typedef NimStringDesc* tyArray_nHXaesL0DJZHyVS07ARPRA[1];
struct tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw {
int epollFD;
NI maxFD;
tySequence_GRbl5aEApToVieBn9bMUweg* fds;
NI count;
};
struct tyObject_SelectorKey_psahSFDbXohbHJrYyBA30A {
NI ident;
tySet_tyEnum_Event_nI40bZzTyYVrl763dZ9aHDg events;
NI param;
tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg data;
};
typedef NimStringDesc* tyArray_yt5VDPNtUGx9cBkOVakHwdQ[6];
typedef N_CLOSURE_PTR(tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg*, TM_C2iUZIQp7RQF6YOy5ASqQQ_38) (tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ req);
typedef struct {
N_NIMCALL_PTR(void, ClP_0) (tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg* future, void* ClE_0);
void* ClE_0;
} tyProc_Ji66E1LvSO6uC9ahuv7gEuQ;
typedef struct {
N_NIMCALL_PTR(void, ClP_0) (void* ClE_0);
void* ClE_0;
} tyProc_IIomJ6ptE6vfJ5zRbATgkQ;
struct tyObject_CallbackList_tKSBWiaJMWD3JZxwqg7UFQ {
tyProc_IIomJ6ptE6vfJ5zRbATgkQ function;
tyObject_CallbackList_tKSBWiaJMWD3JZxwqg7UFQ* next;
};
struct tyObject_FutureBasecolonObjectType__cnXnCCtV9cjKaEq9alHheOFg {
  RootObj Sup;
tyObject_CallbackList_tKSBWiaJMWD3JZxwqg7UFQ callbacks;
NIM_BOOL finished;
Exception* error;
NimStringDesc* errorStackTrace;
NimStringDesc* stackTrace;
NI id;
NimStringDesc* fromProc;
};
struct tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg {
  tyObject_FutureBasecolonObjectType__cnXnCCtV9cjKaEq9alHheOFg Sup;
};
struct Exception {
  RootObj Sup;
Exception* parent;
NCSTRING name;
NimStringDesc* message;
tySequence_uB9b75OUPRENsBAu4AnoePA* trace;
NU raise_id;
Exception* up;
};
typedef N_CLOSURE_PTR(tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg*, TM_C2iUZIQp7RQF6YOy5ASqQQ_46) (tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ req);
struct tyObject_Deque_oL07LSXp3QMM0uEpFQiyQg {
tySequence_WF89a8QyKeDCh4DYWTmSiBg* data;
NI head;
NI tail;
NI count;
NI mask;
};
struct tyObject_PDispatcherBasecolonObjectType__E9c1MI1V1IJorH9cqPQ36Hqg {
  RootObj Sup;
tySequence_M89cHurEB0l2lhCwhToV4tw* timers;
tyObject_Deque_oL07LSXp3QMM0uEpFQiyQg callbacks;
};
struct tyObject_PDispatchercolonObjectType__pnVRciItPqJkU9bkmY2UaWQ {
  tyObject_PDispatcherBasecolonObjectType__E9c1MI1V1IJorH9cqPQ36Hqg Sup;
tyObject_SelectorImpl_jkoZicTBtYdKkYck5SFJEQ* selector;
};
struct tyTuple_nwB3gtWBe1uuSjJHYIhMRg {
tyProc_viIz7Ad8oAqyirPykUIEyw Field0;
tyObject_Settings_RQZYCzXTdrrG2IJkwsu2GQ Field1;
};
struct tyObject_StackTraceEntry_oLyohQ7O2XOvGnflOss8EA {
NCSTRING procname;
NI line;
NCSTRING filename;
};
struct tyTuple_V1aU9c9b1eMroa29cC237x0yQ {
NF Field0;
tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg* Field1;
};
struct tyObject_Option_b3qcYYMISNgGVYTnldWqsA {
tyObject_HttpHeaderscolonObjectType__GM611pWlOrQ7hvMPcuAACA* val;
};
struct tySequence_GRbl5aEApToVieBn9bMUweg {
  TGenericSeq Sup;
  tyObject_SelectorKey_psahSFDbXohbHJrYyBA30A data[SEQ_DECL_SIZE];
};
struct tySequence_uB9b75OUPRENsBAu4AnoePA {
  TGenericSeq Sup;
  tyObject_StackTraceEntry_oLyohQ7O2XOvGnflOss8EA data[SEQ_DECL_SIZE];
};
struct tySequence_WF89a8QyKeDCh4DYWTmSiBg {
  TGenericSeq Sup;
  tyProc_IIomJ6ptE6vfJ5zRbATgkQ data[SEQ_DECL_SIZE];
};
struct tySequence_M89cHurEB0l2lhCwhToV4tw {
  TGenericSeq Sup;
  tyTuple_V1aU9c9b1eMroa29cC237x0yQ data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
static N_NIMCALL(void, TM_C2iUZIQp7RQF6YOy5ASqQQ_2)(void);
N_NIMCALL(void, nimRegisterThreadLocalMarker)(tyProc_T4eqaYlFJYZUv9aG9b1TV0bQ markerProc);
static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem_cNwQQ4PlSJsZSwvoN5Uafwsystem)(void* a, int v, NI size);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI x);
N_NIMCALL(void, echoBinSafe)(NimStringDesc** args, NI argsLen_0);
N_LIB_PRIVATE N_NIMCALL(void, failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA)(NimStringDesc* msg);
N_LIB_PRIVATE N_NIMCALL(void, eventLoop_KJdIgjMV9bfFYqyt8Q49a9aRQ)(tyTuple_nwB3gtWBe1uuSjJHYIhMRg* params);
N_LIB_PRIVATE N_NIMCALL(tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw*, newSelector_5UP6DYhtL78z9btmsvxmejA)(void);
N_LIB_PRIVATE N_NIMCALL(tyObject_SocketImpl_aIhANOOoETolVz9cccNO9cRQ*, newSocket_8Lrat9ciQTaGiwISp8ak13A)(tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg domain, tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw sockType, tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg protocol, NIM_BOOL buffered);
N_LIB_PRIVATE N_NIMCALL(void, setSockOpt_CdTxaPiwLECOUKYBbpXCKQ)(tyObject_SocketImpl_aIhANOOoETolVz9cccNO9cRQ* socket, tyEnum_SOBool_SDlZUtKctfhvUZ58547HWQ opt, NIM_BOOL value, int level);
N_LIB_PRIVATE N_NIMCALL(void, bindAddr_1QV2AFuvaMgMWnPRPZq9bVw)(tyObject_SocketImpl_aIhANOOoETolVz9cccNO9cRQ* socket, NU16 port, NimStringDesc* address);
N_LIB_PRIVATE N_NIMCALL(void, listen_AOBVJUkpcJ1PzOE7Ql9b9ckQ)(tyObject_SocketImpl_aIhANOOoETolVz9cccNO9cRQ* socket, int backlog);
N_LIB_PRIVATE N_NIMCALL(void, setBlocking_RBApwF6paZ4dy39bsxU85TA)(int s, NIM_BOOL blocking);
N_LIB_PRIVATE N_NIMCALL(int, getFd_bR6ZV9aJ9a3QZrVB8dOrnRHg)(tyObject_SocketImpl_aIhANOOoETolVz9cccNO9cRQ* socket);
N_LIB_PRIVATE N_NIMCALL(void, registerHandle_6bsixhtGdY1D9bwPwg49bQ9cA)(tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* s, int fd, tySet_tyEnum_Event_nI40bZzTyYVrl763dZ9aHDg events, tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* data);
N_LIB_PRIVATE N_NIMCALL(void, initData_BKfrfLANVjE9crms6B4kFPA)(tyEnum_FdKind_gufxVgpU5dIEG6DkTOq9aiA fdKind, NimStringDesc* ip, tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* Result);
N_NOINLINE(void, chckNil)(void* p);
N_NIMCALL(void, genericReset)(void* dest, TNimType* mt);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
static N_INLINE(void, nimFrame)(TFrame* s);
N_LIB_PRIVATE N_NOINLINE(void, stackOverflow_II46IjNZztN9bmbxUD8dt8g)(void);
static N_INLINE(void, popFrame)(void);
N_LIB_PRIVATE N_NIMCALL(tyObject_PDispatchercolonObjectType__pnVRciItPqJkU9bkmY2UaWQ*, getGlobalDispatcher_9aj3b7Sd9ahqKV8UGXYgrIUg)(void);
N_LIB_PRIVATE N_NIMCALL(void, registerHandle_ZxCziUPXn6XkFcD9bnbz9c9aw)(tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* s, NI fd, tySet_tyEnum_Event_nI40bZzTyYVrl763dZ9aHDg events, tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* data);
N_LIB_PRIVATE N_NIMCALL(NI, getFd_4jMaQEbj2phZZEyj7urwpQ)(tyObject_SelectorImpl_jkoZicTBtYdKkYck5SFJEQ* s);
N_LIB_PRIVATE N_NIMCALL(tyObject_SelectorImpl_jkoZicTBtYdKkYck5SFJEQ*, getIoHandler_1cfqNcVKBrqucaxs09alXtg)(tyObject_PDispatchercolonObjectType__pnVRciItPqJkU9bkmY2UaWQ* disp);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, updateDate_hsT76OGRIoI6gE3xZUu3Ew)(int fd);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, format_Tf25NQOq9cvJ1C7xDug62kQ)(tyObject_DateTime_S7qec11z7km5Pal3UXrHmw* dt);
N_LIB_PRIVATE N_NIMCALL(void, utc_ahnNFdsiAoWUfJuQc7a9aeQ)(tyObject_DateTime_S7qec11z7km5Pal3UXrHmw* dt, tyObject_DateTime_S7qec11z7km5Pal3UXrHmw* Result);
N_LIB_PRIVATE N_NIMCALL(void, now_d1K9bEvprvRT065W47OkDBQ)(tyObject_DateTime_S7qec11z7km5Pal3UXrHmw* Result);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
static N_INLINE(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*, usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem)(void* usr);
static N_INLINE(void, rtlAddZCT_MV4BBk6J1qu70IbBxwEn4w_2system)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c);
N_LIB_PRIVATE N_NOINLINE(void, addZCT_fCDI7oO1NNVXXURtxSzsRw)(tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w* s, tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c);
N_LIB_PRIVATE N_NIMCALL(void, addTimer_YxmGU9bAzUo0iGWEKPuPV6g)(NI timeout, NIM_BOOL oneshot, tyProc_9cnjNsE9aOh8FkRG9ccBKTpWg cb);
N_LIB_PRIVATE N_NIMCALL(NI, selectInto_lhciuUi8UjhaPqljPnqmTQ)(tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* s, NI timeout, tyObject_ReadyKey_vOvPQEijZeFv1xAgbh5rNw* results, NI resultsLen_0);
N_LIB_PRIVATE N_NIMCALL(void, processEvents_nSuR9bV9atC57u9al9brUpgVyw)(tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* selector, tyArray_ldWGqPJo6WgJz7q23H0LJQ events, NI count, tyProc_viIz7Ad8oAqyirPykUIEyw onRequest);
static N_NIMCALL(void, Marker_tyRef_XougsED8BzBhc9cVoQ5SZNg)(void* p, NI op);
N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
N_NOINLINE(void, raiseIndexError)(void);
N_LIB_PRIVATE N_NIMCALL(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg*, getData_Kr9b7yueTwhyAZxSoehlKSw)(tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* s, NI fd);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isDisconnectionError_40p9aaw5rEmIprdUBGKsyYQ)(tySet_tyEnum_SocketFlag_4xio0cAXR7XG4pF9bVcpxEg flags, NI32 lastError);
N_LIB_PRIVATE N_NIMCALL(void, unregister_gRjwjyeMyTdA0teCeneF9cQ)(tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* s, NI fd);
N_LIB_PRIVATE N_NIMCALL(void, close_ODRNWwddsp7NVetdw9cXCVg)(int socket);
static N_INLINE(NI, chckRange)(NI i, NI a, NI b);
N_NOINLINE(void, raiseRangeError)(NI64 val);
N_LIB_PRIVATE N_NOINLINE(void, raiseOSError_bEwAamo1N7TKcaU9akpiyIg)(NI32 errorCode, NimStringDesc* additionalInfo);
N_LIB_PRIVATE N_NIMCALL(void, accept_nmCCLPlzBoP6AGJgbJepfQ)(int fd, tyTuple_TpwiSlpJ9ammzps6Ja8XpjQ* Result);
N_LIB_PRIVATE N_NIMCALL(NI32, osLastError_tNPXXFl9cb3BG0pJKzUn9bew)(void);
N_LIB_PRIVATE N_NIMCALL(void, poll_xqmRQXNU6QTg1bhi3gWITA)(NI timeout);
static N_INLINE(NI, addInt)(NI a, NI b);
N_NOINLINE(void, raiseOverflow)(void);
N_NIMCALL(NimStringDesc*, setLengthStr)(NimStringDesc* s, NI newLen);
static N_INLINE(NIM_CHAR, X5BX5D__OfW9cXEAVaB9aahBBWfdc49cghttpbeast)(NimStringDesc* s, NI i);
static N_INLINE(NI, subInt)(NI a, NI b);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, slowHeadersCheck_Ag53ZCnXXcXQ9caAmnG0I9cA)(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* data);
N_LIB_PRIVATE N_NIMCALL(tyObject_Option_veolIg1VCBBP47eu1cVRKw, parseHttpMethod_y69b2ZGvaGqlxRxt28uexSQ)(NimStringDesc* data, NI start);
static N_INLINE(NIM_BOOL, isSome_mXASObalAZ49cPCDV5Ve2swhttpbeast)(tyObject_Option_veolIg1VCBBP47eu1cVRKw self);
N_LIB_PRIVATE N_NIMCALL(tyEnum_HttpMethod_wfZHspwVKQPl9aWhkIcMrAA, get_uuzg8gUexifnLFZRyocA5w)(tyObject_Option_veolIg1VCBBP47eu1cVRKw self);
N_LIB_PRIVATE N_NIMCALL(void, logLoop_Y1QvvdpC0FmKBCafruMWGQ)(tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg level, NimStringDesc** args, NI argsLen_0);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, bodyInTransit_Ag53ZCnXXcXQ9caAmnG0I9cA_2)(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* data);
N_LIB_PRIVATE N_NIMCALL(NI, parseContentLength_bXLJH8BBmm40UBbRn9a2yEw)(NimStringDesc* data, NI start);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, validateRequest_JRDjTxyBeLJGTDSGg0lB9cQ)(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ req);
static N_INLINE(NIM_BOOL, isNone_mXASObalAZ49cPCDV5Ve2swoptions)(tyObject_Option_veolIg1VCBBP47eu1cVRKw self);
static N_INLINE(tyObject_Option_veolIg1VCBBP47eu1cVRKw, httpMethod_r3VKeWsx73Sf9cMh9c7Xj5PQrequest)(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ req);
N_LIB_PRIVATE N_NIMCALL(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg*, getData_9brMSfTKQOyKEjQGuyDtyDw)(tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* s, int fd);
N_LIB_PRIVATE N_NIMCALL(void, send_gt9bGylFWV9btIY9cvSDFXCdg)(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ req, NI code);
N_LIB_PRIVATE N_NIMCALL(void, send_IGzB6wvLZCS871KxD29cScQ)(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ req, NI code, NimStringDesc* body, NimStringDesc* headers);
static N_INLINE(NIM_BOOL, contains_XoJ2T5NiBctATKHtqzY8gQhttpbeast)(tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* s, int fd);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
static N_INLINE(void, copyMem_E1xtACub5WcDa3vbrIXbwgsystem)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* formatstr, NimStringDesc** a, NI aLen_0);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, dollar__9cVsFvz7mEtKMww1u8rPboA)(NI code);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
N_LIB_PRIVATE N_NIMCALL(void, updateHandle_I24j639aYGizvtQbXRcEipQ)(tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* s, int fd, tySet_tyEnum_Event_nI40bZzTyYVrl763dZ9aHDg events);
N_LIB_PRIVATE N_NIMCALL(void, callbackeq__09bmIQzf6Oi9bdpRtRqwgxsA)(tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg* future, tyProc_Ji66E1LvSO6uC9ahuv7gEuQ cb);
N_LIB_PRIVATE N_CLOSURE(void, colonanonymous__aerPBHCYmeOwLcIRpoY1Nw)(tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg* theFut, void* ClE_0);
N_LIB_PRIVATE N_NIMCALL(void, onRequestFutureComplete_uSa9aEjDZsZcv6fQ09bYMiRw)(tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg* theFut, tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* selector, NI fd);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, failed_ZDnEFECD9b9aKFsuVLxFyzkA_2)(tyObject_FutureBasecolonObjectType__cnXnCCtV9cjKaEq9alHheOFg* future);
N_NIMCALL(void, raiseException)(Exception* e, NCSTRING ename);
static N_INLINE(NI, len_eobMY9cShy0eccPQzqc9aNWAasyncdispatch)(tyObject_Deque_oL07LSXp3QMM0uEpFQiyQg* deq);
N_LIB_PRIVATE N_NIMCALL(void, parseHeaders_iTQmaTa9bA2M9crPfSrv2yGg)(NimStringDesc* data, NI start, tyObject_Option_b3qcYYMISNgGVYTnldWqsA* Result);
NimStringDesc* serverDate_1X8XOf6WSUq5gNtqrMptxg;
extern TNimType NTI_77mFvmsOLKik79ci2hXkHEg_;
TNimType NTI_qPO2a9cfFpwJcw0ldfShOSQ_;
TNimType NTI_dnN9afR9aZvFnYGF9crivRiGg_;
TNimType NTI_gufxVgpU5dIEG6DkTOq9aiA_;
extern TNimType NTI_rR5Bzr1D5krxoo1NcNyeMA_;
extern TNimType NTI_VaVACK0bpYmqIQ0mKcHfQQ_;
extern TNimType NTI_PJeZZHRuzDGa42bhbVE0ZA_;
extern TNimType NTI_nlCscttRCss70IBTyuBqnA_;
extern TFrame* framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw;
extern TNimType NTI_S7qec11z7km5Pal3UXrHmw_;
extern tyObject_GcHeap_1TRH1TZMaVZTnLNcIHuNFQ gch_IcYaEuuWivYAS86vFMTS3Q;
extern TNimType NTI_13RNkKqUOX1TtorOUlKtqA_;
TNimType NTI_F6L6j6twFCj5srIA1XyuuQ_;
extern TNimType NTI_xHTZrq9aYs6boc9bCba0JbpQ_;
TNimType NTI_Ti1HYKsaP9cKOTufhyLADJw_;
TNimType NTI_XougsED8BzBhc9cVoQ5SZNg_;
extern int osInvalidSocket_voz9aUXu8jtRbvGZZJHNE8w;
extern tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg level_hzbRBHMSEnpbC61ptpdKmA;
extern TNimType NTI_b3qcYYMISNgGVYTnldWqsA_;
TNimType NTI_RQZYCzXTdrrG2IJkwsu2GQ_;
extern TNimType NTI_M4na42GvebBMnI5wV9cYMxg_;
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_8, "Starting ", 9);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_9, " threads", 8);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_10, "false ", 6);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_11, "", 0);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_14, "false Only Read events are expected for the server", 50);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_15, "events[i].events == {Read} ", 27);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_27, "sendQueue isn\'t empty.", 22);
NIM_CONST tyArray_nHXaesL0DJZHyVS07ARPRA TM_C2iUZIQp7RQF6YOy5ASqQQ_26 = {((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_27)}
;
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_29, "bytesSent isn\'t empty.", 22);
NIM_CONST tyArray_nHXaesL0DJZHyVS07ARPRA TM_C2iUZIQp7RQF6YOy5ASqQQ_28 = {((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_29)}
;
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_30, "\012let m475082 = parseHttpMethod(data.data, 0)\012isSome(m475082) an"
"d\012    contains({HttpPost, HttpPut, HttpConnect, HttpPatch}, get("
"m475082)) Calling bodyInTransit now is inefficient.", 178);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_31, "data.headersFinished ", 21);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_33, "not\012  trueLen < bodyLen ", 24);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_34, "getData(req.selector, req.client).headersFinished Selector not "
"ready to send.", 77);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_35, "\015\012", 2);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_36, "HTTP/1.1 $#\015\012Content-Length: $#\015\012Server: $#\015\012Date: $#$#\015\012\015\012$#", 61);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_37, "HttpBeast", 9);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_48, "\0120 < len(data.sendQueue) ", 25);
STRING_LITERAL(TM_C2iUZIQp7RQF6YOy5ASqQQ_49, "data.bytesSent < len(data.sendQueue) ", 37);
static N_NIMCALL(void, TM_C2iUZIQp7RQF6YOy5ASqQQ_2)(void) {
	nimGCvisit((void*)serverDate_1X8XOf6WSUq5gNtqrMptxg, 0);
}

static N_INLINE(void, nimSetMem_cNwQQ4PlSJsZSwvoN5Uafwsystem)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
}

static N_INLINE(void, nimZeroMem)(void* p, NI size) {
	nimSetMem_cNwQQ4PlSJsZSwvoN5Uafwsystem(p, ((int) 0), size);
}

static N_INLINE(void, nimFrame)(TFrame* s) {
	NI T1_;
	T1_ = (NI)0;
	{
		if (!(framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw == NIM_NIL)) goto LA4_;
		T1_ = ((NI) 0);
	}
	goto LA2_;
	LA4_: ;
	{
		T1_ = ((NI) ((NI16)((*framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw).calldepth + ((NI16) 1))));
	}
	LA2_: ;
	(*s).calldepth = ((NI16) (T1_));
	(*s).prev = framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw;
	framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw = s;
	{
		if (!((*s).calldepth == ((NI16) 2000))) goto LA9_;
		stackOverflow_II46IjNZztN9bmbxUD8dt8g();
	}
	LA9_: ;
}

static N_INLINE(void, popFrame)(void) {
	framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw = (*framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw).prev;
}

N_LIB_PRIVATE N_NIMCALL(void, initData_BKfrfLANVjE9crms6B4kFPA)(tyEnum_FdKind_gufxVgpU5dIEG6DkTOq9aiA fdKind, NimStringDesc* ip, tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* Result) {
	nimfr_("initData", "httpbeast.nim");
	chckNil((void*)Result);
	genericReset((void*)Result, (&NTI_dnN9afR9aZvFnYGF9crivRiGg_));
	nimln_(59, "httpbeast.nim");
	chckNil((void*)Result);
	genericReset((void*)Result, (&NTI_dnN9afR9aZvFnYGF9crivRiGg_));
	(*Result).fdKind = fdKind;
	unsureAsgnRef((void**) (&(*Result).sendQueue), copyString(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_11)));
	(*Result).bytesSent = ((NI) 0);
	unsureAsgnRef((void**) (&(*Result).data), copyString(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_11)));
	(*Result).headersFinished = NIM_FALSE;
	(*Result).headersFinishPos = ((NI) -1);
	unsureAsgnRef((void**) (&(*Result).ip), copyString(ip));
	popFrame();
}

static N_INLINE(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*, usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem)(void* usr) {
	tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* result;
	nimfr_("usrToCell", "gc.nim");
	result = (tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*)0;
	nimln_(132, "gc.nim");
	result = ((tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*) ((NI)((NU64)(((NI) (ptrdiff_t) (usr))) - (NU64)(((NI)sizeof(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g))))));
	popFrame();
	return result;
}

static N_INLINE(void, rtlAddZCT_MV4BBk6J1qu70IbBxwEn4w_2system)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c) {
	nimfr_("rtlAddZCT", "gc.nim");
	nimln_(211, "gc.nim");
	addZCT_fCDI7oO1NNVXXURtxSzsRw((&gch_IcYaEuuWivYAS86vFMTS3Q.zct), c);
	popFrame();
}

static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	nimfr_("asgnRefNoCycle", "gc.nim");
	nimln_(271, "gc.nim");
	{
		tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c;
		nimln_(396, "system.nim");
		if (!!((src == NIM_NIL))) goto LA3_;
		nimln_(272, "gc.nim");
		c = usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem(src);
		nimln_(273, "gc.nim");
		(*c).refcount += ((NI) 8);
	}
	LA3_: ;
	nimln_(274, "gc.nim");
	{
		tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c_2;
		nimln_(396, "system.nim");
		if (!!(((*dest) == NIM_NIL))) goto LA7_;
		nimln_(275, "gc.nim");
		c_2 = usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem((*dest));
		nimln_(276, "gc.nim");
		{
			nimln_(185, "gc.nim");
			(*c_2).refcount -= ((NI) 8);
			nimln_(276, "gc.nim");
			if (!((NU64)((*c_2).refcount) < (NU64)(((NI) 8)))) goto LA11_;
			nimln_(277, "gc.nim");
			rtlAddZCT_MV4BBk6J1qu70IbBxwEn4w_2system(c_2);
		}
		LA11_: ;
	}
	LA7_: ;
	nimln_(278, "gc.nim");
	(*dest) = src;
	popFrame();
}

N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, updateDate_hsT76OGRIoI6gE3xZUu3Ew)(int fd) {
	NIM_BOOL result;
	tyObject_DateTime_S7qec11z7km5Pal3UXrHmw T1_;
	tyObject_DateTime_S7qec11z7km5Pal3UXrHmw T2_;
	nimfr_("updateDate", "httpbeast.nim");
	result = (NIM_BOOL)0;
	nimln_(260, "httpbeast.nim");
	result = NIM_FALSE;
	nimln_(261, "httpbeast.nim");
	nimZeroMem((void*)(&T1_), sizeof(tyObject_DateTime_S7qec11z7km5Pal3UXrHmw));
	T1_.Sup.m_type = (&NTI_S7qec11z7km5Pal3UXrHmw_);
	now_d1K9bEvprvRT065W47OkDBQ((&T1_));
	nimZeroMem((void*)(&T2_), sizeof(tyObject_DateTime_S7qec11z7km5Pal3UXrHmw));
	T2_.Sup.m_type = (&NTI_S7qec11z7km5Pal3UXrHmw_);
	utc_ahnNFdsiAoWUfJuQc7a9aeQ((&T1_), (&T2_));
	asgnRefNoCycle((void**) (&serverDate_1X8XOf6WSUq5gNtqrMptxg), format_Tf25NQOq9cvJ1C7xDug62kQ((&T2_)));
	popFrame();
	return result;
}
static N_NIMCALL(void, Marker_tyRef_XougsED8BzBhc9cVoQ5SZNg)(void* p, NI op) {
	tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ* a;
	a = (tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ*)p;
	nimGCvisit((void*)(*a).selector1, op);
}

static N_INLINE(NI, chckRange)(NI i, NI a, NI b) {
	NI result;
{	result = (NI)0;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (a <= i);
		if (!(T3_)) goto LA4_;
		T3_ = (i <= b);
		LA4_: ;
		if (!T3_) goto LA5_;
		result = i;
		goto BeforeRet_;
	}
	goto LA1_;
	LA5_: ;
	{
		raiseRangeError(((NI64) (i)));
	}
	LA1_: ;
	}BeforeRet_: ;
	return result;
}

static N_INLINE(NI, addInt)(NI a, NI b) {
	NI result;
{	result = (NI)0;
	result = (NI)((NU64)(a) + (NU64)(b));
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (((NI) 0) <= (NI)(result ^ a));
		if (T3_) goto LA4_;
		T3_ = (((NI) 0) <= (NI)(result ^ b));
		LA4_: ;
		if (!T3_) goto LA5_;
		goto BeforeRet_;
	}
	LA5_: ;
	raiseOverflow();
	}BeforeRet_: ;
	return result;
}

static N_INLINE(NI, subInt)(NI a, NI b) {
	NI result;
{	result = (NI)0;
	result = (NI)((NU64)(a) - (NU64)(b));
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (((NI) 0) <= (NI)(result ^ a));
		if (T3_) goto LA4_;
		T3_ = (((NI) 0) <= (NI)(result ^ (NI)((NU64) ~(b))));
		LA4_: ;
		if (!T3_) goto LA5_;
		goto BeforeRet_;
	}
	LA5_: ;
	raiseOverflow();
	}BeforeRet_: ;
	return result;
}

static N_INLINE(NIM_CHAR, X5BX5D__OfW9cXEAVaB9aahBBWfdc49cghttpbeast)(NimStringDesc* s, NI i) {
	NIM_CHAR result;
	NI TM_C2iUZIQp7RQF6YOy5ASqQQ_19;
	nimfr_("[]", "system.nim");
	result = (NIM_CHAR)0;
	nimln_(3601, "system.nim");
	TM_C2iUZIQp7RQF6YOy5ASqQQ_19 = subInt((s ? s->Sup.len : 0), i);
	if (!s || (NU)((NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_19)) >= (NU)(s->Sup.len)) raiseIndexError();
	result = s->data[(NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_19)];
	popFrame();
	return result;
}

static N_INLINE(NIM_BOOL, isSome_mXASObalAZ49cPCDV5Ve2swhttpbeast)(tyObject_Option_veolIg1VCBBP47eu1cVRKw self) {
	NIM_BOOL result;
	nimfr_("isSome", "options.nim");
	result = (NIM_BOOL)0;
	nimln_(115, "options.nim");
	result = self.has;
	popFrame();
	return result;
}

N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, slowHeadersCheck_Ag53ZCnXXcXQ9caAmnG0I9cA)(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* data) {
	NIM_BOOL result;
	nimfr_("slowHeadersCheck", "httpbeast.nim");
{	result = (NIM_BOOL)0;
	nimln_(112, "httpbeast.nim");
	{
		tyObject_Option_veolIg1VCBBP47eu1cVRKw m;
		NIM_BOOL T3_;
		tyEnum_HttpMethod_wfZHspwVKQPl9aWhkIcMrAA T5_;
		NIM_BOOL T6_;
		nimln_(3469, "system.nim");
		nimln_(106, "httpbeast.nim");
		m = parseHttpMethod_y69b2ZGvaGqlxRxt28uexSQ((*data).data, ((NI) 0));
		nimln_(107, "httpbeast.nim");
		T3_ = (NIM_BOOL)0;
		T3_ = isSome_mXASObalAZ49cPCDV5Ve2swhttpbeast(m);
		if (!(T3_)) goto LA4_;
		T5_ = (tyEnum_HttpMethod_wfZHspwVKQPl9aWhkIcMrAA)0;
		T5_ = get_uuzg8gUexifnLFZRyocA5w(m);
		T3_ = ((396 &(1U<<((NU)(T5_)&15U)))!=0);
		LA4_: ;
		T6_ = (NIM_BOOL)0;
		T6_ = unlikely(T3_);
		if (!T6_) goto LA7_;
		nimln_(114, "httpbeast.nim");
		(*data).headersFinishPos = ((NI) 0);
		{
			nimln_(120, "httpbeast.nim");
			while (1) {
				NI pos;
				NI TM_C2iUZIQp7RQF6YOy5ASqQQ_20;
				NIM_CHAR T11_;
				NI TM_C2iUZIQp7RQF6YOy5ASqQQ_25;
				if (!((*data).headersFinishPos < ((*data).data ? (*data).data->Sup.len : 0))) goto LA10;
				nimln_(121, "httpbeast.nim");
				nimln_(117, "httpbeast.nim");
				TM_C2iUZIQp7RQF6YOy5ASqQQ_20 = addInt((*data).headersFinishPos, ((NI) 0));
				pos = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_20);
				T11_ = (NIM_CHAR)0;
				nimln_(118, "httpbeast.nim");
				{
					if (!(((*data).data ? (*data).data->Sup.len : 0) <= pos)) goto LA14_;
					T11_ = 0;
				}
				goto LA12_;
				LA14_: ;
				{
					if (!(*data).data || (NU)(pos) >= (NU)((*data).data->Sup.len)) raiseIndexError();
					T11_ = (*data).data->data[pos];
				}
				LA12_: ;
				switch (((NU8)(T11_))) {
				case 13:
				{
					nimln_(123, "httpbeast.nim");
					{
						NIM_BOOL T20_;
						NIM_BOOL T21_;
						NI pos_2;
						NI TM_C2iUZIQp7RQF6YOy5ASqQQ_21;
						NIM_CHAR T22_;
						NI pos_3;
						NI TM_C2iUZIQp7RQF6YOy5ASqQQ_22;
						NIM_CHAR T29_;
						NI pos_4;
						NI TM_C2iUZIQp7RQF6YOy5ASqQQ_23;
						NIM_CHAR T36_;
						NI TM_C2iUZIQp7RQF6YOy5ASqQQ_24;
						T20_ = (NIM_BOOL)0;
						T21_ = (NIM_BOOL)0;
						nimln_(117, "httpbeast.nim");
						TM_C2iUZIQp7RQF6YOy5ASqQQ_21 = addInt((*data).headersFinishPos, ((NI) 1));
						pos_2 = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_21);
						T22_ = (NIM_CHAR)0;
						nimln_(118, "httpbeast.nim");
						{
							if (!(((*data).data ? (*data).data->Sup.len : 0) <= pos_2)) goto LA25_;
							T22_ = 0;
						}
						goto LA23_;
						LA25_: ;
						{
							if (!(*data).data || (NU)(pos_2) >= (NU)((*data).data->Sup.len)) raiseIndexError();
							T22_ = (*data).data->data[pos_2];
						}
						LA23_: ;
						T21_ = ((NU8)(T22_) == (NU8)(10));
						if (!(T21_)) goto LA28_;
						nimln_(123, "httpbeast.nim");
						nimln_(117, "httpbeast.nim");
						TM_C2iUZIQp7RQF6YOy5ASqQQ_22 = addInt((*data).headersFinishPos, ((NI) 2));
						pos_3 = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_22);
						T29_ = (NIM_CHAR)0;
						nimln_(118, "httpbeast.nim");
						{
							if (!(((*data).data ? (*data).data->Sup.len : 0) <= pos_3)) goto LA32_;
							T29_ = 0;
						}
						goto LA30_;
						LA32_: ;
						{
							if (!(*data).data || (NU)(pos_3) >= (NU)((*data).data->Sup.len)) raiseIndexError();
							T29_ = (*data).data->data[pos_3];
						}
						LA30_: ;
						T21_ = ((NU8)(T29_) == (NU8)(13));
						LA28_: ;
						T20_ = T21_;
						if (!(T20_)) goto LA35_;
						nimln_(123, "httpbeast.nim");
						nimln_(117, "httpbeast.nim");
						TM_C2iUZIQp7RQF6YOy5ASqQQ_23 = addInt((*data).headersFinishPos, ((NI) 3));
						pos_4 = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_23);
						T36_ = (NIM_CHAR)0;
						nimln_(118, "httpbeast.nim");
						{
							if (!(((*data).data ? (*data).data->Sup.len : 0) <= pos_4)) goto LA39_;
							T36_ = 0;
						}
						goto LA37_;
						LA39_: ;
						{
							if (!(*data).data || (NU)(pos_4) >= (NU)((*data).data->Sup.len)) raiseIndexError();
							T36_ = (*data).data->data[pos_4];
						}
						LA37_: ;
						T20_ = ((NU8)(T36_) == (NU8)(10));
						LA35_: ;
						if (!T20_) goto LA42_;
						nimln_(124, "httpbeast.nim");
						TM_C2iUZIQp7RQF6YOy5ASqQQ_24 = addInt((*data).headersFinishPos, ((NI) 4));
						(*data).headersFinishPos = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_24);
						nimln_(125, "httpbeast.nim");
						result = NIM_TRUE;
						goto BeforeRet_;
					}
					LA42_: ;
				}
				break;
				default:
				{
				}
				break;
				}
				nimln_(127, "httpbeast.nim");
				TM_C2iUZIQp7RQF6YOy5ASqQQ_25 = addInt((*data).headersFinishPos, ((NI) 1));
				(*data).headersFinishPos = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_25);
			} LA10: ;
		}
		nimln_(129, "httpbeast.nim");
		(*data).headersFinishPos = ((NI) -1);
	}
	LA7_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}

N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, bodyInTransit_Ag53ZCnXXcXQ9caAmnG0I9cA_2)(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* data) {
	NIM_BOOL result;
	NI trueLen;
	NI bodyLen;
	NI TM_C2iUZIQp7RQF6YOy5ASqQQ_32;
	nimfr_("bodyInTransit", "httpbeast.nim");
{	result = (NIM_BOOL)0;
	nimln_(132, "httpbeast.nim");
	{
		tyObject_Option_veolIg1VCBBP47eu1cVRKw m;
		NIM_BOOL T3_;
		tyEnum_HttpMethod_wfZHspwVKQPl9aWhkIcMrAA T5_;
		m = parseHttpMethod_y69b2ZGvaGqlxRxt28uexSQ((*data).data, ((NI) 0));
		T3_ = (NIM_BOOL)0;
		T3_ = isSome_mXASObalAZ49cPCDV5Ve2swhttpbeast(m);
		if (!(T3_)) goto LA4_;
		T5_ = (tyEnum_HttpMethod_wfZHspwVKQPl9aWhkIcMrAA)0;
		T5_ = get_uuzg8gUexifnLFZRyocA5w(m);
		T3_ = ((396 &(1U<<((NU)(T5_)&15U)))!=0);
		LA4_: ;
		if (!!(T3_)) goto LA6_;
		failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_30));
	}
	LA6_: ;
	nimln_(133, "httpbeast.nim");
	{
		if (!!((*data).headersFinished)) goto LA10_;
		failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_31));
	}
	LA10_: ;
	nimln_(135, "httpbeast.nim");
	{
		if (!((*data).headersFinishPos == ((NI) -1))) goto LA14_;
		result = NIM_FALSE;
		goto BeforeRet_;
	}
	LA14_: ;
	nimln_(137, "httpbeast.nim");
	trueLen = parseContentLength_bXLJH8BBmm40UBbRn9a2yEw((*data).data, ((NI) 0));
	nimln_(139, "httpbeast.nim");
	TM_C2iUZIQp7RQF6YOy5ASqQQ_32 = subInt(((*data).data ? (*data).data->Sup.len : 0), (*data).headersFinishPos);
	bodyLen = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_32);
	nimln_(140, "httpbeast.nim");
	{
		if (!!(!((trueLen < bodyLen)))) goto LA18_;
		failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_33));
	}
	LA18_: ;
	nimln_(141, "httpbeast.nim");
	nimln_(396, "system.nim");
	result = !((bodyLen == trueLen));
	goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
	return result;
}

static N_INLINE(NIM_BOOL, isNone_mXASObalAZ49cPCDV5Ve2swoptions)(tyObject_Option_veolIg1VCBBP47eu1cVRKw self) {
	NIM_BOOL result;
	nimfr_("isNone", "options.nim");
	result = (NIM_BOOL)0;
	nimln_(121, "options.nim");
	result = !(self.has);
	popFrame();
	return result;
}

static N_INLINE(tyObject_Option_veolIg1VCBBP47eu1cVRKw, httpMethod_r3VKeWsx73Sf9cMh9c7Xj5PQrequest)(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ req) {
	tyObject_Option_veolIg1VCBBP47eu1cVRKw result;
	tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* T1_;
	nimfr_("httpMethod", "httpbeast.nim");
	nimZeroMem((void*)(&result), sizeof(tyObject_Option_veolIg1VCBBP47eu1cVRKw));
	nimln_(345, "httpbeast.nim");
	nimln_(346, "httpbeast.nim");
	T1_ = (tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg*)0;
	T1_ = getData_9brMSfTKQOyKEjQGuyDtyDw(req.selector, req.client);
	result = parseHttpMethod_y69b2ZGvaGqlxRxt28uexSQ((*T1_).data, req.start);
	popFrame();
	return result;
}

static N_INLINE(NIM_BOOL, contains_XoJ2T5NiBctATKHtqzY8gQhttpbeast)(tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* s, int fd) {
	NIM_BOOL result;
	nimfr_("contains", "ioselectors_epoll.nim");
{	result = (NIM_BOOL)0;
	nimln_(485, "ioselectors_epoll.nim");
	nimln_(396, "system.nim");
	if (!(*s).fds || (NU)(fd) >= (NU)((*s).fds->Sup.len)) raiseIndexError();
	result = !(((*s).fds->data[fd].ident == ((NI) 0)));
	goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
	return result;
}

static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
}

static N_INLINE(void, copyMem_E1xtACub5WcDa3vbrIXbwgsystem)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	{
		if (!!((src == NIM_NIL))) goto LA3_;
		copyMem_E1xtACub5WcDa3vbrIXbwgsystem(((void*) ((&(*dest).data[((*dest).Sup.len)- 0]))), ((void*) ((*src).data)), ((NI) ((NI)((*src).Sup.len + ((NI) 1)))));
		(*dest).Sup.len += (*src).Sup.len;
	}
	LA3_: ;
}

N_LIB_PRIVATE N_NIMCALL(void, send_IGzB6wvLZCS871KxD29cScQ)(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ req, NI code, NimStringDesc* body, NimStringDesc* headers) {
	NimStringDesc* otherHeaders;
	NimStringDesc* text;
	tyArray_yt5VDPNtUGx9cBkOVakHwdQ T18_;
	tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* T19_;
	nimfr_("send", "httpbeast.nim");
{	nimln_(316, "httpbeast.nim");
	{
		NIM_BOOL T3_;
		nimln_(1195, "system.nim");
		T3_ = (NIM_BOOL)0;
		T3_ = contains_XoJ2T5NiBctATKHtqzY8gQhttpbeast(req.selector, req.client);
		if (!!(T3_)) goto LA4_;
		nimln_(317, "httpbeast.nim");
		goto BeforeRet_;
	}
	LA4_: ;
	nimln_(321, "httpbeast.nim");
	{
		tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* T8_;
		T8_ = (tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg*)0;
		T8_ = getData_9brMSfTKQOyKEjQGuyDtyDw(req.selector, req.client);
		if (!!((*T8_).headersFinished)) goto LA9_;
		failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_34));
	}
	LA9_: ;
	nimln_(323, "httpbeast.nim");
	{
		NIM_BOOL T13_;
		nimln_(3445, "system.nim");
		nimln_(323, "httpbeast.nim");
		T13_ = (NIM_BOOL)0;
		T13_ = likely(((headers ? headers->Sup.len : 0) == ((NI) 0)));
		if (!T13_) goto LA14_;
		otherHeaders = copyString(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_11));
	}
	goto LA11_;
	LA14_: ;
	{
		NimStringDesc* T17_;
		T17_ = (NimStringDesc*)0;
		T17_ = rawNewString((headers ? headers->Sup.len : 0) + 2);
appendString(T17_, ((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_35));
appendString(T17_, headers);
		otherHeaders = T17_;
	}
	LA11_: ;
	nimln_(325, "httpbeast.nim");
	nimZeroMem((void*)T18_, sizeof(tyArray_yt5VDPNtUGx9cBkOVakHwdQ));
	nimln_(328, "httpbeast.nim");
	T18_[0] = dollar__9cVsFvz7mEtKMww1u8rPboA(code);
	T18_[1] = nimIntToStr((body ? body->Sup.len : 0));
	T18_[2] = copyString(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_37));
	T18_[3] = copyString(serverDate_1X8XOf6WSUq5gNtqrMptxg);
	T18_[4] = copyString(otherHeaders);
	T18_[5] = copyString(body);
	text = nsuFormatOpenArray(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_36), T18_, 6);
	nimln_(330, "httpbeast.nim");
	T19_ = (tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg*)0;
	T19_ = getData_9brMSfTKQOyKEjQGuyDtyDw(req.selector, req.client);
	(*T19_).sendQueue = resizeString((*T19_).sendQueue, (text ? text->Sup.len : 0) + 0);
appendString((*T19_).sendQueue, text);
	nimln_(331, "httpbeast.nim");
	updateHandle_I24j639aYGizvtQbXRcEipQ(req.selector, req.client, 3);
	}BeforeRet_: ;
	popFrame();
}

N_LIB_PRIVATE N_NIMCALL(void, send_gt9bGylFWV9btIY9cvSDFXCdg)(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ req, NI code) {
	NimStringDesc* T1_;
	nimfr_("send", "httpbeast.nim");
	nimln_(336, "httpbeast.nim");
	T1_ = (NimStringDesc*)0;
	T1_ = dollar__9cVsFvz7mEtKMww1u8rPboA(code);
	send_IGzB6wvLZCS871KxD29cScQ(req, code, T1_, ((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_11));
	popFrame();
}

N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, validateRequest_JRDjTxyBeLJGTDSGg0lB9cQ)(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ req) {
	NIM_BOOL result;
	nimfr_("validateRequest", "httpbeast.nim");
{	result = (NIM_BOOL)0;
	nimln_(380, "httpbeast.nim");
	result = NIM_TRUE;
	nimln_(386, "httpbeast.nim");
	{
		tyObject_Option_veolIg1VCBBP47eu1cVRKw T3_;
		NIM_BOOL T4_;
		T3_ = httpMethod_r3VKeWsx73Sf9cMh9c7Xj5PQrequest(req);
		T4_ = (NIM_BOOL)0;
		T4_ = isNone_mXASObalAZ49cPCDV5Ve2swoptions(T3_);
		if (!T4_) goto LA5_;
		nimln_(387, "httpbeast.nim");
		send_gt9bGylFWV9btIY9cvSDFXCdg(req, ((NI) 501));
		nimln_(388, "httpbeast.nim");
		result = NIM_FALSE;
		goto BeforeRet_;
	}
	LA5_: ;
	}BeforeRet_: ;
	popFrame();
	return result;
}

N_LIB_PRIVATE N_NIMCALL(void, onRequestFutureComplete_uSa9aEjDZsZcv6fQ09bYMiRw)(tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg* theFut, tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* selector, NI fd) {
	nimfr_("onRequestFutureComplete", "httpbeast.nim");
	nimln_(93, "httpbeast.nim");
	{
		tyObject_FutureBasecolonObjectType__cnXnCCtV9cjKaEq9alHheOFg* T3_;
		NIM_BOOL T4_;
		T3_ = (tyObject_FutureBasecolonObjectType__cnXnCCtV9cjKaEq9alHheOFg*)0;
		T3_ = &theFut->Sup;
		T4_ = (NIM_BOOL)0;
		T4_ = failed_ZDnEFECD9b9aKFsuVLxFyzkA_2(T3_);
		if (!T4_) goto LA5_;
		nimln_(94, "httpbeast.nim");
		raiseException((Exception*)(*theFut).Sup.error, "Exception");
	}
	LA5_: ;
	popFrame();
}

N_LIB_PRIVATE N_CLOSURE(void, colonanonymous__aerPBHCYmeOwLcIRpoY1Nw)(tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg* theFut, void* ClE_0) {
	tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ* colonenvP_;
	nimfr_(":anonymous", "httpbeast.nim");
	colonenvP_ = (tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ*) ClE_0;
	nimln_(223, "httpbeast.nim");
	onRequestFutureComplete_uSa9aEjDZsZcv6fQ09bYMiRw(theFut, (*colonenvP_).selector1, (*colonenvP_).fd2);
	nimln_(216, "httpbeast.nim");
	(*(*colonenvP_).data3).headersFinished = NIM_FALSE;
	popFrame();
}

N_LIB_PRIVATE N_NIMCALL(void, processEvents_nSuR9bV9atC57u9al9brUpgVyw)(tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* selector, tyArray_ldWGqPJo6WgJz7q23H0LJQ events, NI count, tyProc_viIz7Ad8oAqyirPykUIEyw onRequest) {
	tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ* colonenv_;
	nimfr_("processEvents", "httpbeast.nim");
	colonenv_ = (tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ*)0;
	nimln_(215, "system.nim");
	colonenv_ = (tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ*) newObj((&NTI_XougsED8BzBhc9cVoQ5SZNg_), sizeof(tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ));
	(*colonenv_).Sup.m_type = (&NTI_F6L6j6twFCj5srIA1XyuuQ_);
	nimln_(144, "httpbeast.nim");
	asgnRefNoCycle((void**) (&(*colonenv_).selector1), selector);
	{
		NI i;
		NI i_2;
		i = (NI)0;
		nimln_(3494, "system.nim");
		i_2 = ((NI) 0);
		{
			nimln_(3495, "system.nim");
			while (1) {
				NI TM_C2iUZIQp7RQF6YOy5ASqQQ_52;
				if (!(i_2 < count)) goto LA3;
				nimln_(3496, "system.nim");
				i = i_2;
				nimln_(148, "httpbeast.nim");
				if ((NU)(i) > (NU)(63)) raiseIndexError();
				(*colonenv_).fd2 = events[(i)- 0].fd;
				nimln_(149, "httpbeast.nim");
				(*colonenv_).data3 = getData_Kr9b7yueTwhyAZxSoehlKSw((*colonenv_).selector1, (*colonenv_).fd2);
				nimln_(151, "httpbeast.nim");
				{
					if ((NU)(i) > (NU)(63)) raiseIndexError();
					if (!((events[(i)- 0].events &(1U<<((NU)(((tyEnum_Event_nI40bZzTyYVrl763dZ9aHDg) 7))&31U)))!=0)) goto LA6_;
					nimln_(152, "httpbeast.nim");
					{
						NIM_BOOL T10_;
						if ((NU)(i) > (NU)(63)) raiseIndexError();
						T10_ = (NIM_BOOL)0;
						T10_ = isDisconnectionError_40p9aaw5rEmIprdUBGKsyYQ(2, events[(i)- 0].errorCode);
						if (!T10_) goto LA11_;
						nimln_(84, "httpbeast.nim");
						unregister_gRjwjyeMyTdA0teCeneF9cQ((*colonenv_).selector1, (*colonenv_).fd2);
						nimln_(85, "httpbeast.nim");
						close_ODRNWwddsp7NVetdw9cXCVg(((int)chckRange((*colonenv_).fd2, ((int) (-2147483647 -1)), ((int) 2147483647))));
						nimln_(87, "httpbeast.nim");
						goto LA1;
					}
					LA11_: ;
					nimln_(155, "httpbeast.nim");
					if ((NU)(i) > (NU)(63)) raiseIndexError();
					raiseOSError_bEwAamo1N7TKcaU9akpiyIg(events[(i)- 0].errorCode, ((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_11));
				}
				LA6_: ;
				nimln_(157, "httpbeast.nim");
				switch ((*(*colonenv_).data3).fdKind) {
				case ((tyEnum_FdKind_gufxVgpU5dIEG6DkTOq9aiA) 0):
				{
					nimln_(159, "httpbeast.nim");
					{
						tyTuple_TpwiSlpJ9ammzps6Ja8XpjQ T18_;
						int client;
						NimStringDesc* address;
						tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg T23_;
						if ((NU)(i) > (NU)(63)) raiseIndexError();
						if (!((events[(i)- 0].events &(1U<<((NU)(((tyEnum_Event_nI40bZzTyYVrl763dZ9aHDg) 0))&31U)))!=0)) goto LA16_;
						nimln_(69, "httpbeast.nim");
						nimZeroMem((void*)(&T18_), sizeof(tyTuple_TpwiSlpJ9ammzps6Ja8XpjQ));
						accept_nmCCLPlzBoP6AGJgbJepfQ(((int)chckRange((*colonenv_).fd2, ((int) (-2147483647 -1)), ((int) 2147483647))), (&T18_));
						client = (int)0;
						client = T18_.Field0;
						address = (NimStringDesc*)0;
						address = T18_.Field1;
						nimln_(70, "httpbeast.nim");
						{
							NI32 lastError;
							if (!(client == osInvalidSocket_voz9aUXu8jtRbvGZZJHNE8w)) goto LA21_;
							nimln_(71, "httpbeast.nim");
							lastError = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
							nimln_(72, "httpbeast.nim");
							raiseOSError_bEwAamo1N7TKcaU9akpiyIg(lastError, ((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_11));
						}
						LA21_: ;
						nimln_(73, "httpbeast.nim");
						setBlocking_RBApwF6paZ4dy39bsxU85TA(client, NIM_FALSE);
						nimln_(74, "httpbeast.nim");
						nimln_(75, "httpbeast.nim");
						nimZeroMem((void*)(&T23_), sizeof(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg));
						initData_BKfrfLANVjE9crms6B4kFPA(((tyEnum_FdKind_gufxVgpU5dIEG6DkTOq9aiA) 1), address, (&T23_));
						registerHandle_6bsixhtGdY1D9bwPwg49bQ9cA((*colonenv_).selector1, client, 1, (&T23_));
					}
					goto LA14_;
					LA16_: ;
					{
						nimln_(162, "httpbeast.nim");
						{
							if (!NIM_TRUE) goto LA27_;
							failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_14));
						}
						LA27_: ;
					}
					LA14_: ;
				}
				break;
				case ((tyEnum_FdKind_gufxVgpU5dIEG6DkTOq9aiA) 2):
				{
					nimln_(165, "httpbeast.nim");
					{
						if ((NU)(i) > (NU)(63)) raiseIndexError();
						if (!!((events[(i)- 0].events == 1))) goto LA32_;
						failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_15));
					}
					LA32_: ;
					nimln_(166, "httpbeast.nim");
					poll_xqmRQXNU6QTg1bhi3gWITA(((NI) 0));
				}
				break;
				case ((tyEnum_FdKind_gufxVgpU5dIEG6DkTOq9aiA) 1):
				{
					nimln_(168, "httpbeast.nim");
					{
						tyArray_dTlC27m9c9aWd5dvuePYanug buf;
						if ((NU)(i) > (NU)(63)) raiseIndexError();
						if (!((events[(i)- 0].events &(1U<<((NU)(((tyEnum_Event_nI40bZzTyYVrl763dZ9aHDg) 0))&31U)))!=0)) goto LA37_;
						nimZeroMem((void*)buf, sizeof(tyArray_dTlC27m9c9aWd5dvuePYanug));
						{
							nimln_(175, "httpbeast.nim");
							while (1) {
								NI ret;
								NI origLen;
								NI TM_C2iUZIQp7RQF6YOy5ASqQQ_16;
								nimln_(176, "httpbeast.nim");
								ret = recv(((int)chckRange((*colonenv_).fd2, ((int) (-2147483647 -1)), ((int) 2147483647))), ((void*) ((&buf[(((NI) 0))- 0]))), ((NI) 256), ((int) 0));
								nimln_(177, "httpbeast.nim");
								{
									if (!(ret == ((NI) 0))) goto LA43_;
									nimln_(84, "httpbeast.nim");
									unregister_gRjwjyeMyTdA0teCeneF9cQ((*colonenv_).selector1, (*colonenv_).fd2);
									nimln_(85, "httpbeast.nim");
									close_ODRNWwddsp7NVetdw9cXCVg(((int)chckRange((*colonenv_).fd2, ((int) (-2147483647 -1)), ((int) 2147483647))));
									nimln_(87, "httpbeast.nim");
									goto LA39;
								}
								LA43_: ;
								nimln_(180, "httpbeast.nim");
								{
									NI32 lastError_2;
									if (!(ret == ((NI) -1))) goto LA47_;
									nimln_(182, "httpbeast.nim");
									lastError_2 = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
									nimln_(183, "httpbeast.nim");
									{
										if (!(lastError_2 == ((NI) 11) || lastError_2 == ((NI) 11))) goto LA51_;
										nimln_(184, "httpbeast.nim");
										goto LA39;
									}
									LA51_: ;
									nimln_(185, "httpbeast.nim");
									{
										NIM_BOOL T55_;
										T55_ = (NIM_BOOL)0;
										T55_ = isDisconnectionError_40p9aaw5rEmIprdUBGKsyYQ(2, lastError_2);
										if (!T55_) goto LA56_;
										nimln_(84, "httpbeast.nim");
										unregister_gRjwjyeMyTdA0teCeneF9cQ((*colonenv_).selector1, (*colonenv_).fd2);
										nimln_(85, "httpbeast.nim");
										close_ODRNWwddsp7NVetdw9cXCVg(((int)chckRange((*colonenv_).fd2, ((int) (-2147483647 -1)), ((int) 2147483647))));
										nimln_(87, "httpbeast.nim");
										goto LA39;
									}
									LA56_: ;
									nimln_(187, "httpbeast.nim");
									raiseOSError_bEwAamo1N7TKcaU9akpiyIg(lastError_2, ((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_11));
								}
								LA47_: ;
								nimln_(190, "httpbeast.nim");
								origLen = ((*(*colonenv_).data3).data ? (*(*colonenv_).data3).data->Sup.len : 0);
								nimln_(191, "httpbeast.nim");
								TM_C2iUZIQp7RQF6YOy5ASqQQ_16 = addInt(origLen, ret);
								(*(*colonenv_).data3).data = setLengthStr((*(*colonenv_).data3).data, ((NI)chckRange((NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_16), ((NI) 0), ((NI) IL64(9223372036854775807)))));
								{
									NI i_3;
									NI i_4;
									i_3 = (NI)0;
									nimln_(3494, "system.nim");
									i_4 = ((NI) 0);
									{
										nimln_(3495, "system.nim");
										while (1) {
											NI TM_C2iUZIQp7RQF6YOy5ASqQQ_17;
											NI TM_C2iUZIQp7RQF6YOy5ASqQQ_18;
											if (!(i_4 < ret)) goto LA60;
											nimln_(3496, "system.nim");
											i_3 = i_4;
											nimln_(192, "httpbeast.nim");
											TM_C2iUZIQp7RQF6YOy5ASqQQ_17 = addInt(origLen, i_3);
											if (!(*(*colonenv_).data3).data || (NU)((NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_17)) >= (NU)((*(*colonenv_).data3).data->Sup.len)) raiseIndexError();
											if ((NU)(i_3) > (NU)(255)) raiseIndexError();
											(*(*colonenv_).data3).data->data[(NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_17)] = buf[(i_3)- 0];
											nimln_(3497, "system.nim");
											TM_C2iUZIQp7RQF6YOy5ASqQQ_18 = addInt(i_4, ((NI) 1));
											i_4 = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_18);
										} LA60: ;
									}
								}
								nimln_(194, "httpbeast.nim");
								{
									NIM_BOOL T63_;
									NIM_BOOL res;
									NIM_BOOL T64_;
									NIM_BOOL T65_;
									NIM_BOOL T66_;
									NIM_CHAR T67_;
									NIM_CHAR T69_;
									NIM_CHAR T71_;
									NIM_CHAR T73_;
									NIM_BOOL waitingForBody;
									NIM_BOOL T97_;
									tyObject_Option_veolIg1VCBBP47eu1cVRKw m;
									NIM_BOOL T98_;
									tyEnum_HttpMethod_wfZHspwVKQPl9aWhkIcMrAA T100_;
									T63_ = (NIM_BOOL)0;
									nimln_(97, "httpbeast.nim");
									nimln_(98, "httpbeast.nim");
									T64_ = (NIM_BOOL)0;
									nimln_(97, "httpbeast.nim");
									T65_ = (NIM_BOOL)0;
									T66_ = (NIM_BOOL)0;
									T67_ = (NIM_CHAR)0;
									T67_ = X5BX5D__OfW9cXEAVaB9aahBBWfdc49cghttpbeast((*(*colonenv_).data3).data, ((NI) 1));
									T66_ = ((NU8)(T67_) == (NU8)(10));
									if (!(T66_)) goto LA68_;
									T69_ = (NIM_CHAR)0;
									T69_ = X5BX5D__OfW9cXEAVaB9aahBBWfdc49cghttpbeast((*(*colonenv_).data3).data, ((NI) 2));
									T66_ = ((NU8)(T69_) == (NU8)(13));
									LA68_: ;
									T65_ = T66_;
									if (!(T65_)) goto LA70_;
									nimln_(98, "httpbeast.nim");
									T71_ = (NIM_CHAR)0;
									T71_ = X5BX5D__OfW9cXEAVaB9aahBBWfdc49cghttpbeast((*(*colonenv_).data3).data, ((NI) 3));
									T65_ = ((NU8)(T71_) == (NU8)(10));
									LA70_: ;
									T64_ = T65_;
									if (!(T64_)) goto LA72_;
									T73_ = (NIM_CHAR)0;
									T73_ = X5BX5D__OfW9cXEAVaB9aahBBWfdc49cghttpbeast((*(*colonenv_).data3).data, ((NI) 4));
									T64_ = ((NU8)(T73_) == (NU8)(13));
									LA72_: ;
									res = T64_;
									nimln_(99, "httpbeast.nim");
									{
										if (!res) goto LA76_;
										(*(*colonenv_).data3).headersFinishPos = ((*(*colonenv_).data3).data ? (*(*colonenv_).data3).data->Sup.len : 0);
									}
									LA76_: ;
									T63_ = res;
									if (T63_) goto LA78_;
									nimln_(194, "httpbeast.nim");
									T63_ = slowHeadersCheck_Ag53ZCnXXcXQ9caAmnG0I9cA((*colonenv_).data3);
									LA78_: ;
									if (!T63_) goto LA79_;
									nimln_(196, "httpbeast.nim");
									(*(*colonenv_).data3).headersFinished = NIM_TRUE;
									nimln_(198, "httpbeast.nim");
									{
										nimln_(396, "system.nim");
										nimln_(198, "httpbeast.nim");
										if (!!((((*(*colonenv_).data3).sendQueue ? (*(*colonenv_).data3).sendQueue->Sup.len : 0) == ((NI) 0)))) goto LA83_;
										nimln_(199, "httpbeast.nim");
										{
											nimln_(291, "logging.nim");
											if (!(level_hzbRBHMSEnpbC61ptpdKmA <= ((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 4))) goto LA87_;
											nimln_(292, "logging.nim");
											logLoop_Y1QvvdpC0FmKBCafruMWGQ(((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 4), TM_C2iUZIQp7RQF6YOy5ASqQQ_26, 1);
										}
										LA87_: ;
									}
									LA83_: ;
									nimln_(200, "httpbeast.nim");
									{
										nimln_(396, "system.nim");
										if (!!(((*(*colonenv_).data3).bytesSent == ((NI) 0)))) goto LA91_;
										nimln_(201, "httpbeast.nim");
										{
											nimln_(291, "logging.nim");
											if (!(level_hzbRBHMSEnpbC61ptpdKmA <= ((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 4))) goto LA95_;
											nimln_(292, "logging.nim");
											logLoop_Y1QvvdpC0FmKBCafruMWGQ(((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 4), TM_C2iUZIQp7RQF6YOy5ASqQQ_28, 1);
										}
										LA95_: ;
									}
									LA91_: ;
									nimln_(203, "httpbeast.nim");
									T97_ = (NIM_BOOL)0;
									nimln_(106, "httpbeast.nim");
									m = parseHttpMethod_y69b2ZGvaGqlxRxt28uexSQ((*(*colonenv_).data3).data, ((NI) 0));
									nimln_(107, "httpbeast.nim");
									T98_ = (NIM_BOOL)0;
									T98_ = isSome_mXASObalAZ49cPCDV5Ve2swhttpbeast(m);
									if (!(T98_)) goto LA99_;
									T100_ = (tyEnum_HttpMethod_wfZHspwVKQPl9aWhkIcMrAA)0;
									T100_ = get_uuzg8gUexifnLFZRyocA5w(m);
									T98_ = ((396 &(1U<<((NU)(T100_)&15U)))!=0);
									LA99_: ;
									T97_ = T98_;
									if (!(T97_)) goto LA101_;
									nimln_(203, "httpbeast.nim");
									T97_ = bodyInTransit_Ag53ZCnXXcXQ9caAmnG0I9cA_2((*colonenv_).data3);
									LA101_: ;
									waitingForBody = T97_;
									nimln_(204, "httpbeast.nim");
									{
										NIM_BOOL T104_;
										nimln_(3445, "system.nim");
										nimln_(204, "httpbeast.nim");
										T104_ = (NIM_BOOL)0;
										T104_ = likely(!(waitingForBody));
										if (!T104_) goto LA105_;
										{
											NI start;
											NimStringDesc* colontmp_;
											NI i_5;
											tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ request;
											start = (NI)0;
											colontmp_ = (NimStringDesc*)0;
											nimln_(205, "httpbeast.nim");
											colontmp_ = (*(*colonenv_).data3).data;
											nimln_(109, "parser.nim");
											i_5 = ((NI) 0);
											nimln_(110, "parser.nim");
											start = i_5;
											nimln_(207, "httpbeast.nim");
											(*(*colonenv_).data3).headersFinished = NIM_TRUE;
											nimZeroMem((void*)(&request), sizeof(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ));
											nimln_(209, "httpbeast.nim");
											chckNil((void*)(&request));
											nimZeroMem((void*)(&request), sizeof(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ));
											request.selector = (*colonenv_).selector1;
											request.client = ((int)chckRange((*colonenv_).fd2, ((int) (-2147483647 -1)), ((int) 2147483647)));
											request.start = start;
											nimln_(218, "httpbeast.nim");
											{
												NIM_BOOL T110_;
												tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg* fut;
												T110_ = (NIM_BOOL)0;
												T110_ = validateRequest_JRDjTxyBeLJGTDSGg0lB9cQ(request);
												if (!T110_) goto LA111_;
												nimln_(219, "httpbeast.nim");
												fut = onRequest.ClE_0? onRequest.ClP_0(request, onRequest.ClE_0):((TM_C2iUZIQp7RQF6YOy5ASqQQ_38)(onRequest.ClP_0))(request);
												nimln_(220, "httpbeast.nim");
												{
													tyProc_Ji66E1LvSO6uC9ahuv7gEuQ T117_;
													if (!!((fut == 0))) goto LA115_;
													nimln_(221, "httpbeast.nim");
													nimZeroMem((void*)(&T117_), sizeof(tyProc_Ji66E1LvSO6uC9ahuv7gEuQ));
													T117_.ClP_0 = colonanonymous__aerPBHCYmeOwLcIRpoY1Nw; T117_.ClE_0 = colonenv_;
													callbackeq__09bmIQzf6Oi9bdpRtRqwgxsA(fut, T117_);
												}
												goto LA113_;
												LA115_: ;
												{
													nimln_(216, "httpbeast.nim");
													(*(*colonenv_).data3).headersFinished = NIM_FALSE;
												}
												LA113_: ;
											}
											LA111_: ;
											{
												nimln_(112, "parser.nim");
												while (1) {
													NI TM_C2iUZIQp7RQF6YOy5ASqQQ_39;
													TM_C2iUZIQp7RQF6YOy5ASqQQ_39 = addInt(i_5, ((NI) 3));
													if (!((NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_39) < (colontmp_ ? colontmp_->Sup.len : 0))) goto LA120;
													{
														NI TM_C2iUZIQp7RQF6YOy5ASqQQ_47;
														nimln_(113, "parser.nim");
														{
															NIM_BOOL T124_;
															NIM_BOOL T125_;
															NIM_BOOL T126_;
															NI TM_C2iUZIQp7RQF6YOy5ASqQQ_40;
															NI TM_C2iUZIQp7RQF6YOy5ASqQQ_41;
															NI TM_C2iUZIQp7RQF6YOy5ASqQQ_42;
															NI TM_C2iUZIQp7RQF6YOy5ASqQQ_43;
															NI TM_C2iUZIQp7RQF6YOy5ASqQQ_45;
															tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ request_2;
															nimln_(114, "parser.nim");
															T124_ = (NIM_BOOL)0;
															nimln_(113, "parser.nim");
															T125_ = (NIM_BOOL)0;
															T126_ = (NIM_BOOL)0;
															TM_C2iUZIQp7RQF6YOy5ASqQQ_40 = addInt(i_5, ((NI) 0));
															if (!colontmp_ || (NU)((NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_40)) >= (NU)(colontmp_->Sup.len)) raiseIndexError();
															T126_ = ((NU8)(colontmp_->data[(NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_40)]) == (NU8)(13));
															if (!(T126_)) goto LA127_;
															TM_C2iUZIQp7RQF6YOy5ASqQQ_41 = addInt(i_5, ((NI) 1));
															if (!colontmp_ || (NU)((NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_41)) >= (NU)(colontmp_->Sup.len)) raiseIndexError();
															T126_ = ((NU8)(colontmp_->data[(NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_41)]) == (NU8)(10));
															LA127_: ;
															T125_ = T126_;
															if (!(T125_)) goto LA128_;
															nimln_(114, "parser.nim");
															TM_C2iUZIQp7RQF6YOy5ASqQQ_42 = addInt(i_5, ((NI) 2));
															if (!colontmp_ || (NU)((NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_42)) >= (NU)(colontmp_->Sup.len)) raiseIndexError();
															T125_ = ((NU8)(colontmp_->data[(NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_42)]) == (NU8)(13));
															LA128_: ;
															T124_ = T125_;
															if (!(T124_)) goto LA129_;
															TM_C2iUZIQp7RQF6YOy5ASqQQ_43 = addInt(i_5, ((NI) 3));
															if (!colontmp_ || (NU)((NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_43)) >= (NU)(colontmp_->Sup.len)) raiseIndexError();
															T124_ = ((NU8)(colontmp_->data[(NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_43)]) == (NU8)(10));
															LA129_: ;
															if (!T124_) goto LA130_;
															nimln_(115, "parser.nim");
															{
																NI TM_C2iUZIQp7RQF6YOy5ASqQQ_44;
																NIM_BOOL T134_;
																nimln_(3445, "system.nim");
																nimln_(115, "parser.nim");
																TM_C2iUZIQp7RQF6YOy5ASqQQ_44 = addInt(i_5, ((NI) 4));
																T134_ = (NIM_BOOL)0;
																T134_ = likely(((NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_44) == (colontmp_ ? colontmp_->Sup.len : 0)));
																if (!T134_) goto LA135_;
																goto LA119;
															}
															LA135_: ;
															nimln_(116, "parser.nim");
															TM_C2iUZIQp7RQF6YOy5ASqQQ_45 = addInt(i_5, ((NI) 4));
															i_5 = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_45);
															nimln_(117, "parser.nim");
															{
																tyObject_Option_veolIg1VCBBP47eu1cVRKw T139_;
																NIM_BOOL T140_;
																T139_ = parseHttpMethod_y69b2ZGvaGqlxRxt28uexSQ(colontmp_, i_5);
																T140_ = (NIM_BOOL)0;
																T140_ = isNone_mXASObalAZ49cPCDV5Ve2swoptions(T139_);
																if (!T140_) goto LA141_;
																goto LA121;
															}
															LA141_: ;
															nimln_(118, "parser.nim");
															start = i_5;
															nimln_(207, "httpbeast.nim");
															(*(*colonenv_).data3).headersFinished = NIM_TRUE;
															nimZeroMem((void*)(&request_2), sizeof(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ));
															nimln_(209, "httpbeast.nim");
															chckNil((void*)(&request_2));
															nimZeroMem((void*)(&request_2), sizeof(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ));
															request_2.selector = (*colonenv_).selector1;
															request_2.client = ((int)chckRange((*colonenv_).fd2, ((int) (-2147483647 -1)), ((int) 2147483647)));
															request_2.start = start;
															nimln_(218, "httpbeast.nim");
															{
																NIM_BOOL T145_;
																tyObject_FuturecolonObjectType__9cGbW9cUmV0peAwvBhoDzUzg* fut_2;
																T145_ = (NIM_BOOL)0;
																T145_ = validateRequest_JRDjTxyBeLJGTDSGg0lB9cQ(request_2);
																if (!T145_) goto LA146_;
																nimln_(219, "httpbeast.nim");
																fut_2 = onRequest.ClE_0? onRequest.ClP_0(request_2, onRequest.ClE_0):((TM_C2iUZIQp7RQF6YOy5ASqQQ_46)(onRequest.ClP_0))(request_2);
																nimln_(220, "httpbeast.nim");
																{
																	tyProc_Ji66E1LvSO6uC9ahuv7gEuQ T152_;
																	if (!!((fut_2 == 0))) goto LA150_;
																	nimln_(221, "httpbeast.nim");
																	nimZeroMem((void*)(&T152_), sizeof(tyProc_Ji66E1LvSO6uC9ahuv7gEuQ));
																	T152_.ClP_0 = colonanonymous__aerPBHCYmeOwLcIRpoY1Nw; T152_.ClE_0 = colonenv_;
																	callbackeq__09bmIQzf6Oi9bdpRtRqwgxsA(fut_2, T152_);
																}
																goto LA148_;
																LA150_: ;
																{
																	nimln_(216, "httpbeast.nim");
																	(*(*colonenv_).data3).headersFinished = NIM_FALSE;
																}
																LA148_: ;
															}
															LA146_: ;
														}
														LA130_: ;
														nimln_(120, "parser.nim");
														TM_C2iUZIQp7RQF6YOy5ASqQQ_47 = addInt(i_5, ((NI) 1));
														i_5 = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_47);
													} LA121: ;
												} LA120: ;
											} LA119: ;
										}
									}
									LA105_: ;
								}
								LA79_: ;
								nimln_(228, "httpbeast.nim");
								{
									nimln_(396, "system.nim");
									if (!!((ret == ((NI) 256)))) goto LA156_;
									nimln_(230, "httpbeast.nim");
									goto LA39;
								}
								LA156_: ;
							}
						} LA39: ;
					}
					goto LA35_;
					LA37_: ;
					{
						NI leftover;
						NI TM_C2iUZIQp7RQF6YOy5ASqQQ_50;
						NI ret_2;
						NI TM_C2iUZIQp7RQF6YOy5ASqQQ_51;
						nimln_(231, "httpbeast.nim");
						if ((NU)(i) > (NU)(63)) raiseIndexError();
						if (!((events[(i)- 0].events &(1U<<((NU)(((tyEnum_Event_nI40bZzTyYVrl763dZ9aHDg) 1))&31U)))!=0)) goto LA159_;
						nimln_(232, "httpbeast.nim");
						{
							if (!!((((NI) 0) < ((*(*colonenv_).data3).sendQueue ? (*(*colonenv_).data3).sendQueue->Sup.len : 0)))) goto LA163_;
							failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_48));
						}
						LA163_: ;
						nimln_(233, "httpbeast.nim");
						{
							if (!!(((*(*colonenv_).data3).bytesSent < ((*(*colonenv_).data3).sendQueue ? (*(*colonenv_).data3).sendQueue->Sup.len : 0)))) goto LA167_;
							failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_49));
						}
						LA167_: ;
						nimln_(235, "httpbeast.nim");
						TM_C2iUZIQp7RQF6YOy5ASqQQ_50 = subInt(((*(*colonenv_).data3).sendQueue ? (*(*colonenv_).data3).sendQueue->Sup.len : 0), (*(*colonenv_).data3).bytesSent);
						leftover = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_50);
						nimln_(236, "httpbeast.nim");
						if (!(*(*colonenv_).data3).sendQueue || (NU)((*(*colonenv_).data3).bytesSent) >= (NU)((*(*colonenv_).data3).sendQueue->Sup.len)) raiseIndexError();
						ret_2 = send(((int)chckRange((*colonenv_).fd2, ((int) (-2147483647 -1)), ((int) 2147483647))), ((void*) ((&(*(*colonenv_).data3).sendQueue->data[(*(*colonenv_).data3).bytesSent]))), leftover, ((int) 0));
						nimln_(238, "httpbeast.nim");
						{
							NI32 lastError_3;
							if (!(ret_2 == ((NI) -1))) goto LA171_;
							nimln_(240, "httpbeast.nim");
							lastError_3 = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
							nimln_(241, "httpbeast.nim");
							{
								if (!(lastError_3 == ((NI) 11) || lastError_3 == ((NI) 11))) goto LA175_;
								nimln_(242, "httpbeast.nim");
								goto LA1;
							}
							LA175_: ;
							nimln_(243, "httpbeast.nim");
							{
								NIM_BOOL T179_;
								T179_ = (NIM_BOOL)0;
								T179_ = isDisconnectionError_40p9aaw5rEmIprdUBGKsyYQ(2, lastError_3);
								if (!T179_) goto LA180_;
								nimln_(84, "httpbeast.nim");
								unregister_gRjwjyeMyTdA0teCeneF9cQ((*colonenv_).selector1, (*colonenv_).fd2);
								nimln_(85, "httpbeast.nim");
								close_ODRNWwddsp7NVetdw9cXCVg(((int)chckRange((*colonenv_).fd2, ((int) (-2147483647 -1)), ((int) 2147483647))));
								nimln_(87, "httpbeast.nim");
								goto LA1;
							}
							LA180_: ;
							nimln_(245, "httpbeast.nim");
							raiseOSError_bEwAamo1N7TKcaU9akpiyIg(lastError_3, ((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_11));
						}
						LA171_: ;
						nimln_(247, "httpbeast.nim");
						TM_C2iUZIQp7RQF6YOy5ASqQQ_51 = addInt((*(*colonenv_).data3).bytesSent, ret_2);
						(*(*colonenv_).data3).bytesSent = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_51);
						nimln_(249, "httpbeast.nim");
						{
							if (!(((*(*colonenv_).data3).sendQueue ? (*(*colonenv_).data3).sendQueue->Sup.len : 0) == (*(*colonenv_).data3).bytesSent)) goto LA184_;
							nimln_(250, "httpbeast.nim");
							(*(*colonenv_).data3).bytesSent = ((NI) 0);
							nimln_(251, "httpbeast.nim");
							(*(*colonenv_).data3).sendQueue = setLengthStr((*(*colonenv_).data3).sendQueue, ((NI) 0));
							nimln_(252, "httpbeast.nim");
							(*(*colonenv_).data3).data = setLengthStr((*(*colonenv_).data3).data, ((NI) 0));
							nimln_(253, "httpbeast.nim");
							updateHandle_I24j639aYGizvtQbXRcEipQ((*colonenv_).selector1, ((int)chckRange((*colonenv_).fd2, ((int) (-2147483647 -1)), ((int) 2147483647))), 1);
						}
						LA184_: ;
					}
					goto LA35_;
					LA159_: ;
					{
						nimln_(256, "httpbeast.nim");
						{
							if (!NIM_TRUE) goto LA189_;
							failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_10));
						}
						LA189_: ;
					}
					LA35_: ;
				}
				break;
				}
				nimln_(3497, "system.nim");
				TM_C2iUZIQp7RQF6YOy5ASqQQ_52 = addInt(i_2, ((NI) 1));
				i_2 = (NI)(TM_C2iUZIQp7RQF6YOy5ASqQQ_52);
			} LA3: ;
		}
	} LA1: ;
	popFrame();
}

static N_INLINE(NI, len_eobMY9cShy0eccPQzqc9aNWAasyncdispatch)(tyObject_Deque_oL07LSXp3QMM0uEpFQiyQg* deq) {
	NI result;
	nimfr_("len", "deques.nim");
	result = (NI)0;
	nimln_(64, "deques.nim");
	result = (*deq).count;
	popFrame();
	return result;
}

N_LIB_PRIVATE N_NIMCALL(void, eventLoop_KJdIgjMV9bfFYqyt8Q49a9aRQ)(tyTuple_nwB3gtWBe1uuSjJHYIhMRg* params) {
	tyProc_viIz7Ad8oAqyirPykUIEyw onRequest;
	tyObject_Settings_RQZYCzXTdrrG2IJkwsu2GQ settings;
	tyObject_SelectorImpl_0ToNLPtj22ZBHDqsfmCAvw* selector;
	tyObject_SocketImpl_aIhANOOoETolVz9cccNO9cRQ* server;
	int T1_;
	int T2_;
	tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg T3_;
	tyObject_PDispatchercolonObjectType__pnVRciItPqJkU9bkmY2UaWQ* disp;
	tyObject_SelectorImpl_jkoZicTBtYdKkYck5SFJEQ* T4_;
	NI T5_;
	tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg T6_;
	NIM_BOOL T7_;
	tyProc_9cnjNsE9aOh8FkRG9ccBKTpWg T8_;
	tyArray_ldWGqPJo6WgJz7q23H0LJQ events;
	nimfr_("eventLoop", "httpbeast.nim");
	nimln_(264, "httpbeast.nim");
	nimZeroMem((void*)(&onRequest), sizeof(tyProc_viIz7Ad8oAqyirPykUIEyw));
	onRequest.ClE_0 = (*params).Field0.ClE_0;
	onRequest.ClP_0 = (*params).Field0.ClP_0;
	nimZeroMem((void*)(&settings), sizeof(tyObject_Settings_RQZYCzXTdrrG2IJkwsu2GQ));
	settings.port = (*params).Field1.port;
	settings.bindAddr = (*params).Field1.bindAddr;
	nimln_(266, "httpbeast.nim");
	selector = newSelector_5UP6DYhtL78z9btmsvxmejA();
	nimln_(268, "httpbeast.nim");
	server = newSocket_8Lrat9ciQTaGiwISp8ak13A(((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 2), ((tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw) 1), ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 6), NIM_TRUE);
	nimln_(269, "httpbeast.nim");
	setSockOpt_CdTxaPiwLECOUKYBbpXCKQ(server, ((tyEnum_SOBool_SDlZUtKctfhvUZ58547HWQ) 6), NIM_TRUE, ((int) 1));
	nimln_(270, "httpbeast.nim");
	setSockOpt_CdTxaPiwLECOUKYBbpXCKQ(server, ((tyEnum_SOBool_SDlZUtKctfhvUZ58547HWQ) 7), NIM_TRUE, ((int) 1));
	nimln_(271, "httpbeast.nim");
	bindAddr_1QV2AFuvaMgMWnPRPZq9bVw(server, settings.port, settings.bindAddr);
	nimln_(272, "httpbeast.nim");
	listen_AOBVJUkpcJ1PzOE7Ql9b9ckQ(server, ((int) 128));
	nimln_(273, "httpbeast.nim");
	T1_ = (int)0;
	T1_ = getFd_bR6ZV9aJ9a3QZrVB8dOrnRHg(server);
	setBlocking_RBApwF6paZ4dy39bsxU85TA(T1_, NIM_FALSE);
	nimln_(274, "httpbeast.nim");
	T2_ = (int)0;
	T2_ = getFd_bR6ZV9aJ9a3QZrVB8dOrnRHg(server);
	nimZeroMem((void*)(&T3_), sizeof(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg));
	initData_BKfrfLANVjE9crms6B4kFPA(((tyEnum_FdKind_gufxVgpU5dIEG6DkTOq9aiA) 0), NIM_NIL, (&T3_));
	registerHandle_6bsixhtGdY1D9bwPwg49bQ9cA(selector, T2_, 1, (&T3_));
	nimln_(276, "httpbeast.nim");
	disp = getGlobalDispatcher_9aj3b7Sd9ahqKV8UGXYgrIUg();
	nimln_(277, "httpbeast.nim");
	T4_ = (tyObject_SelectorImpl_jkoZicTBtYdKkYck5SFJEQ*)0;
	T4_ = getIoHandler_1cfqNcVKBrqucaxs09alXtg(disp);
	T5_ = (NI)0;
	T5_ = getFd_4jMaQEbj2phZZEyj7urwpQ(T4_);
	nimln_(278, "httpbeast.nim");
	nimZeroMem((void*)(&T6_), sizeof(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg));
	initData_BKfrfLANVjE9crms6B4kFPA(((tyEnum_FdKind_gufxVgpU5dIEG6DkTOq9aiA) 2), NIM_NIL, (&T6_));
	registerHandle_ZxCziUPXn6XkFcD9bnbz9c9aw(selector, T5_, 1, (&T6_));
	nimln_(281, "httpbeast.nim");
	T7_ = (NIM_BOOL)0;
	T7_ = updateDate_hsT76OGRIoI6gE3xZUu3Ew(((int) 0));
	T7_;
	nimln_(282, "httpbeast.nim");
	nimZeroMem((void*)(&T8_), sizeof(tyProc_9cnjNsE9aOh8FkRG9ccBKTpWg));
	T8_.ClP_0 = ((TM_C2iUZIQp7RQF6YOy5ASqQQ_12) (updateDate_hsT76OGRIoI6gE3xZUu3Ew)); T8_.ClE_0 = NIM_NIL;
	addTimer_YxmGU9bAzUo0iGWEKPuPV6g(((NI) 1000), NIM_FALSE, T8_);
	nimZeroMem((void*)events, sizeof(tyArray_ldWGqPJo6WgJz7q23H0LJQ));
	{
		nimln_(285, "httpbeast.nim");
		while (1) {
			NI ret;
			nimln_(286, "httpbeast.nim");
			ret = selectInto_lhciuUi8UjhaPqljPnqmTQ(selector, ((NI) -1), events, 64);
			nimln_(287, "httpbeast.nim");
			processEvents_nSuR9bV9atC57u9al9brUpgVyw(selector, events, ret, onRequest);
			nimln_(293, "httpbeast.nim");
			{
				tyObject_PDispatchercolonObjectType__pnVRciItPqJkU9bkmY2UaWQ* T13_;
				NI T14_;
				NIM_BOOL T15_;
				nimln_(3469, "system.nim");
				nimln_(293, "httpbeast.nim");
				T13_ = (tyObject_PDispatchercolonObjectType__pnVRciItPqJkU9bkmY2UaWQ*)0;
				T13_ = getGlobalDispatcher_9aj3b7Sd9ahqKV8UGXYgrIUg();
				T14_ = (NI)0;
				T14_ = len_eobMY9cShy0eccPQzqc9aNWAasyncdispatch((&(*T13_).Sup.callbacks));
				T15_ = (NIM_BOOL)0;
				T15_ = unlikely((((NI) 0) < T14_));
				if (!T15_) goto LA16_;
				nimln_(294, "httpbeast.nim");
				poll_xqmRQXNU6QTg1bhi3gWITA(((NI) 0));
			}
			LA16_: ;
		}
	}
	popFrame();
}

N_LIB_PRIVATE N_NIMCALL(void, run_u19aOWQRsQyAEz4Qoc1qcGA)(tyProc_viIz7Ad8oAqyirPykUIEyw onRequest, tyObject_Settings_RQZYCzXTdrrG2IJkwsu2GQ settings) {
	NI cores;
	tyArray_24KAM9afIUgUaqBaEBB6r9bg T1_;
	nimfr_("run", "httpbeast.nim");
	nimln_(399, "httpbeast.nim");
	cores = ((NI) 1);
	nimln_(401, "httpbeast.nim");
	nimZeroMem((void*)T1_, sizeof(tyArray_24KAM9afIUgUaqBaEBB6r9bg));
	T1_[0] = copyString(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_8));
	T1_[1] = nimIntToStr(cores);
	T1_[2] = copyString(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_9));
	echoBinSafe(T1_, 3);
	nimln_(402, "httpbeast.nim");
	{
		if (!(((NI) 1) < cores)) goto LA4_;
		nimln_(412, "httpbeast.nim");
		{
			if (!NIM_TRUE) goto LA8_;
			failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA(((NimStringDesc*) &TM_C2iUZIQp7RQF6YOy5ASqQQ_10));
		}
		LA8_: ;
	}
	goto LA2_;
	LA4_: ;
	{
		tyTuple_nwB3gtWBe1uuSjJHYIhMRg T11_;
		nimln_(414, "httpbeast.nim");
		nimZeroMem((void*)(&T11_), sizeof(tyTuple_nwB3gtWBe1uuSjJHYIhMRg));
		T11_.Field0.ClE_0 = onRequest.ClE_0;
		T11_.Field0.ClP_0 = onRequest.ClP_0;
		T11_.Field1.port = settings.port;
		T11_.Field1.bindAddr = copyString(settings.bindAddr);
		eventLoop_KJdIgjMV9bfFYqyt8Q49a9aRQ((&T11_));
	}
	LA2_: ;
	popFrame();
}

N_LIB_PRIVATE N_NIMCALL(void, headers_jEEehRtxUGO9c6SaVS502Hw)(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ req, tyObject_Option_b3qcYYMISNgGVYTnldWqsA* Result) {
	tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg* T1_;
	nimfr_("headers", "httpbeast.nim");
	chckNil((void*)Result);
	genericReset((void*)Result, (&NTI_b3qcYYMISNgGVYTnldWqsA_));
	nimln_(353, "httpbeast.nim");
	nimln_(354, "httpbeast.nim");
	T1_ = (tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg*)0;
	T1_ = getData_9brMSfTKQOyKEjQGuyDtyDw(req.selector, req.client);
	parseHeaders_iTQmaTa9bA2M9crPfSrv2yGg((*T1_).data, req.start, Result);
	popFrame();
}

N_LIB_PRIVATE N_NIMCALL(void, initSettings_2r4PkQ69a9alwtZLfe3tKGhQ)(NU16 port, NimStringDesc* bindAddr, tyObject_Settings_RQZYCzXTdrrG2IJkwsu2GQ* Result) {
	nimfr_("initSettings", "httpbeast.nim");
	chckNil((void*)Result);
	genericReset((void*)Result, (&NTI_RQZYCzXTdrrG2IJkwsu2GQ_));
	nimln_(53, "httpbeast.nim");
	chckNil((void*)Result);
	genericReset((void*)Result, (&NTI_RQZYCzXTdrrG2IJkwsu2GQ_));
	(*Result).port = port;
	unsureAsgnRef((void**) (&(*Result).bindAddr), copyString(bindAddr));
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(void, httpbeast_httpbeastInit000)(void) {
	nimfr_("httpbeast", "httpbeast.nim");
nimRegisterThreadLocalMarker(TM_C2iUZIQp7RQF6YOy5ASqQQ_2);
	popFrame();
}

N_LIB_PRIVATE N_NIMCALL(void, httpbeast_httpbeastDatInit000)(void) {
static TNimNode* TM_C2iUZIQp7RQF6YOy5ASqQQ_3[3];
static TNimNode* TM_C2iUZIQp7RQF6YOy5ASqQQ_4[7];
static TNimNode* TM_C2iUZIQp7RQF6YOy5ASqQQ_5[3];
NI TM_C2iUZIQp7RQF6YOy5ASqQQ_7;
static char* NIM_CONST TM_C2iUZIQp7RQF6YOy5ASqQQ_6[3] = {
"Server", 
"Client", 
"Dispatcher"};
static TNimNode* TM_C2iUZIQp7RQF6YOy5ASqQQ_13[4];
static TNimNode* TM_C2iUZIQp7RQF6YOy5ASqQQ_53[2];
static TNimNode TM_C2iUZIQp7RQF6YOy5ASqQQ_0[24];
NTI_qPO2a9cfFpwJcw0ldfShOSQ_.size = sizeof(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ);
NTI_qPO2a9cfFpwJcw0ldfShOSQ_.kind = 18;
NTI_qPO2a9cfFpwJcw0ldfShOSQ_.base = 0;
NTI_qPO2a9cfFpwJcw0ldfShOSQ_.flags = 2;
TM_C2iUZIQp7RQF6YOy5ASqQQ_3[0] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[1];
NTI_dnN9afR9aZvFnYGF9crivRiGg_.size = sizeof(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg);
NTI_dnN9afR9aZvFnYGF9crivRiGg_.kind = 18;
NTI_dnN9afR9aZvFnYGF9crivRiGg_.base = 0;
NTI_dnN9afR9aZvFnYGF9crivRiGg_.flags = 2;
TM_C2iUZIQp7RQF6YOy5ASqQQ_4[0] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[3];
NTI_gufxVgpU5dIEG6DkTOq9aiA_.size = sizeof(tyEnum_FdKind_gufxVgpU5dIEG6DkTOq9aiA);
NTI_gufxVgpU5dIEG6DkTOq9aiA_.kind = 14;
NTI_gufxVgpU5dIEG6DkTOq9aiA_.base = 0;
NTI_gufxVgpU5dIEG6DkTOq9aiA_.flags = 3;
for (TM_C2iUZIQp7RQF6YOy5ASqQQ_7 = 0; TM_C2iUZIQp7RQF6YOy5ASqQQ_7 < 3; TM_C2iUZIQp7RQF6YOy5ASqQQ_7++) {
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[TM_C2iUZIQp7RQF6YOy5ASqQQ_7+4].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[TM_C2iUZIQp7RQF6YOy5ASqQQ_7+4].offset = TM_C2iUZIQp7RQF6YOy5ASqQQ_7;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[TM_C2iUZIQp7RQF6YOy5ASqQQ_7+4].name = TM_C2iUZIQp7RQF6YOy5ASqQQ_6[TM_C2iUZIQp7RQF6YOy5ASqQQ_7];
TM_C2iUZIQp7RQF6YOy5ASqQQ_5[TM_C2iUZIQp7RQF6YOy5ASqQQ_7] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[TM_C2iUZIQp7RQF6YOy5ASqQQ_7+4];
}
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[7].len = 3; TM_C2iUZIQp7RQF6YOy5ASqQQ_0[7].kind = 2; TM_C2iUZIQp7RQF6YOy5ASqQQ_0[7].sons = &TM_C2iUZIQp7RQF6YOy5ASqQQ_5[0];
NTI_gufxVgpU5dIEG6DkTOq9aiA_.node = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[7];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[3].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[3].offset = offsetof(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg, fdKind);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[3].typ = (&NTI_gufxVgpU5dIEG6DkTOq9aiA_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[3].name = "fdKind";
TM_C2iUZIQp7RQF6YOy5ASqQQ_4[1] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[8];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[8].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[8].offset = offsetof(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg, sendQueue);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[8].typ = (&NTI_77mFvmsOLKik79ci2hXkHEg_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[8].name = "sendQueue";
TM_C2iUZIQp7RQF6YOy5ASqQQ_4[2] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[9];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[9].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[9].offset = offsetof(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg, bytesSent);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[9].typ = (&NTI_rR5Bzr1D5krxoo1NcNyeMA_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[9].name = "bytesSent";
TM_C2iUZIQp7RQF6YOy5ASqQQ_4[3] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[10];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[10].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[10].offset = offsetof(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg, data);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[10].typ = (&NTI_77mFvmsOLKik79ci2hXkHEg_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[10].name = "data";
TM_C2iUZIQp7RQF6YOy5ASqQQ_4[4] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[11];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[11].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[11].offset = offsetof(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg, headersFinished);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[11].typ = (&NTI_VaVACK0bpYmqIQ0mKcHfQQ_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[11].name = "headersFinished";
TM_C2iUZIQp7RQF6YOy5ASqQQ_4[5] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[12];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[12].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[12].offset = offsetof(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg, headersFinishPos);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[12].typ = (&NTI_rR5Bzr1D5krxoo1NcNyeMA_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[12].name = "headersFinishPos";
TM_C2iUZIQp7RQF6YOy5ASqQQ_4[6] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[13];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[13].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[13].offset = offsetof(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg, ip);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[13].typ = (&NTI_77mFvmsOLKik79ci2hXkHEg_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[13].name = "ip";
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[2].len = 7; TM_C2iUZIQp7RQF6YOy5ASqQQ_0[2].kind = 2; TM_C2iUZIQp7RQF6YOy5ASqQQ_0[2].sons = &TM_C2iUZIQp7RQF6YOy5ASqQQ_4[0];
NTI_dnN9afR9aZvFnYGF9crivRiGg_.node = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[2];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[1].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[1].offset = offsetof(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ, selector);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[1].typ = (&NTI_PJeZZHRuzDGa42bhbVE0ZA_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[1].name = "selector";
TM_C2iUZIQp7RQF6YOy5ASqQQ_3[1] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[14];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[14].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[14].offset = offsetof(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ, client);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[14].typ = (&NTI_nlCscttRCss70IBTyuBqnA_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[14].name = "client";
TM_C2iUZIQp7RQF6YOy5ASqQQ_3[2] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[15];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[15].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[15].offset = offsetof(tyObject_Request_qPO2a9cfFpwJcw0ldfShOSQ, start);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[15].typ = (&NTI_rR5Bzr1D5krxoo1NcNyeMA_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[15].name = "start";
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[0].len = 3; TM_C2iUZIQp7RQF6YOy5ASqQQ_0[0].kind = 2; TM_C2iUZIQp7RQF6YOy5ASqQQ_0[0].sons = &TM_C2iUZIQp7RQF6YOy5ASqQQ_3[0];
NTI_qPO2a9cfFpwJcw0ldfShOSQ_.node = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[0];
NTI_F6L6j6twFCj5srIA1XyuuQ_.size = sizeof(tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ);
NTI_F6L6j6twFCj5srIA1XyuuQ_.kind = 17;
NTI_F6L6j6twFCj5srIA1XyuuQ_.base = (&NTI_13RNkKqUOX1TtorOUlKtqA_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_13[0] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[17];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[17].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[17].offset = offsetof(tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ, colonstate_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[17].typ = (&NTI_xHTZrq9aYs6boc9bCba0JbpQ_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[17].name = ":state";
TM_C2iUZIQp7RQF6YOy5ASqQQ_13[1] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[18];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[18].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[18].offset = offsetof(tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ, selector1);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[18].typ = (&NTI_PJeZZHRuzDGa42bhbVE0ZA_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[18].name = "selector1";
TM_C2iUZIQp7RQF6YOy5ASqQQ_13[2] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[19];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[19].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[19].offset = offsetof(tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ, fd2);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[19].typ = (&NTI_rR5Bzr1D5krxoo1NcNyeMA_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[19].name = "fd2";
TM_C2iUZIQp7RQF6YOy5ASqQQ_13[3] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[20];
NTI_Ti1HYKsaP9cKOTufhyLADJw_.size = sizeof(tyObject_Data_dnN9afR9aZvFnYGF9crivRiGg*);
NTI_Ti1HYKsaP9cKOTufhyLADJw_.kind = 21;
NTI_Ti1HYKsaP9cKOTufhyLADJw_.base = (&NTI_dnN9afR9aZvFnYGF9crivRiGg_);
NTI_Ti1HYKsaP9cKOTufhyLADJw_.flags = 3;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[20].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[20].offset = offsetof(tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ, data3);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[20].typ = (&NTI_Ti1HYKsaP9cKOTufhyLADJw_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[20].name = "data3";
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[16].len = 4; TM_C2iUZIQp7RQF6YOy5ASqQQ_0[16].kind = 2; TM_C2iUZIQp7RQF6YOy5ASqQQ_0[16].sons = &TM_C2iUZIQp7RQF6YOy5ASqQQ_13[0];
NTI_F6L6j6twFCj5srIA1XyuuQ_.node = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[16];
NTI_XougsED8BzBhc9cVoQ5SZNg_.size = sizeof(tyObject_Env_slashhomeslashbenjislashdotnimbleslashpkgsslashhttpbeastminus0dot2dot0slashhttpbeastdotnim__F6L6j6twFCj5srIA1XyuuQ*);
NTI_XougsED8BzBhc9cVoQ5SZNg_.kind = 22;
NTI_XougsED8BzBhc9cVoQ5SZNg_.base = (&NTI_F6L6j6twFCj5srIA1XyuuQ_);
NTI_XougsED8BzBhc9cVoQ5SZNg_.marker = Marker_tyRef_XougsED8BzBhc9cVoQ5SZNg;
NTI_RQZYCzXTdrrG2IJkwsu2GQ_.size = sizeof(tyObject_Settings_RQZYCzXTdrrG2IJkwsu2GQ);
NTI_RQZYCzXTdrrG2IJkwsu2GQ_.kind = 18;
NTI_RQZYCzXTdrrG2IJkwsu2GQ_.base = 0;
NTI_RQZYCzXTdrrG2IJkwsu2GQ_.flags = 2;
TM_C2iUZIQp7RQF6YOy5ASqQQ_53[0] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[22];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[22].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[22].offset = offsetof(tyObject_Settings_RQZYCzXTdrrG2IJkwsu2GQ, port);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[22].typ = (&NTI_M4na42GvebBMnI5wV9cYMxg_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[22].name = "port";
TM_C2iUZIQp7RQF6YOy5ASqQQ_53[1] = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[23];
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[23].kind = 1;
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[23].offset = offsetof(tyObject_Settings_RQZYCzXTdrrG2IJkwsu2GQ, bindAddr);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[23].typ = (&NTI_77mFvmsOLKik79ci2hXkHEg_);
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[23].name = "bindAddr";
TM_C2iUZIQp7RQF6YOy5ASqQQ_0[21].len = 2; TM_C2iUZIQp7RQF6YOy5ASqQQ_0[21].kind = 2; TM_C2iUZIQp7RQF6YOy5ASqQQ_0[21].sons = &TM_C2iUZIQp7RQF6YOy5ASqQQ_53[0];
NTI_RQZYCzXTdrrG2IJkwsu2GQ_.node = &TM_C2iUZIQp7RQF6YOy5ASqQQ_0[21];
}

